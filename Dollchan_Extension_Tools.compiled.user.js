// ==UserScript==
// @name                        Dollchan Extension Tools
// @version                     12.9.30.0
// @namespace           http://www.freedollchan.org/scripts/*
// @author                      Sthephan Shinkufag @ FreeDollChan
// @copyright           (C)2084, Bender Bending Rodriguez
// @description         Doing some profit for imageboards
// @icon                        https://raw.github.com/SthephanShinkufag/Dollchan-Extension-Tools/stable/Icon.png
// @updateURL           https://raw.github.com/SthephanShinkufag/Dollchan-Extension-Tools/stable/Dollchan_Extension_Tools.meta.js
// @include                     *
// ==/UserScript==


(function(Ba){function V(a,b){return l.evaluate(a,b,null,8,null).singleNodeValue}function ja(a,b){return l.evaluate(a,b,null,3,null).booleanValue}function aa(a,b){return h.Firefox?b.getElementsByClassName(a):b.querySelectorAll("."+a)}function v(a,b){return b.getElementsByClassName(a)[0]}function m(a){return l.getElementById(a)}function P(a,b){return b.getElementsByTagName(a)[0]}function A(a,b){Ca.forEach.call(a,b)}function kc(a,b){var c=a.cloneNode(!1);c.innerHTML=b;a.parentNode.replaceChild(c,a);
return c}function W(a,b){for(var c in b)"text"===c?a.textContent=b[c]:"value"===c?a.value=b[c]:a.setAttribute(c,b[c]);return a}function S(a,b){for(var c in b)a.addEventListener(c,b[c],!1);return a}function zb(a,b){for(var c in b)a.removeEventListener(c,b[c],!1)}function ha(a,b){for(var c=0,e=b.length;c<e;c++)b[c]&&a.appendChild(b[c])}function ba(a,b){a.parentNode.insertBefore(b,a)}function L(a,b){a.parentNode.insertBefore(b,a.nextSibling)}function B(a){Ab.innerHTML=a;return Ab.firstChild}function q(a,
b,c){a=l.createElement(a);b&&W(a,b);c&&S(a,c);return a}function n(a,b,c){a=q(a,b,null);ha(a,c);return a}function Y(a){return l.createTextNode(a)}function T(a,b,c){return q("input",{type:"button",value:a,title:b},{click:c})}function E(a,b){return a?b:null}function I(a){a.style.display="none"===a.style.display?"":"none"}function w(a){a&&a.parentNode.removeChild(a)}function ma(a){a=a.getBoundingClientRect();return{top:Math.round(a.top+window.pageYOffset),left:Math.round(a.left+window.pageXOffset)}}function Bb(a){window.scrollTo(0,
ma(a).top)}function x(a){a.preventDefault()}function Ma(a,b){var c=a.scrollTop,e=a.selectionStart;a.value=a.value.substr(0,e)+b+a.value.substr(a.selectionEnd);a.setSelectionRange(e+b.length,e+b.length);a.focus();a.scrollTop=c}function Cb(){return(h.Opera?l.getSelection():window.getSelection()).toString()}function ua(a){var a=a.match(/\/.*?[^\\]\/[ig]*/)[0],b=a.lastIndexOf("/");return RegExp(a.substr(1,b-1),a.substr(b+1))}function ya(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function M(a){var b=
Date.now();eb+=a+": "+(b-Db)+"ms\n";Db=b}function Eb(a){l.head.appendChild(q("script",{type:"text/javascript",text:a},null))}function ca(a){return V("ancestor::*[@de-post]",a)}function Da(a){return a.querySelectorAll('.thumb, img[src*="thumb"], img[src*="/spoiler"], img[src^="blob:"]')}function lc(a){return(a=a.querySelector(d.qOmitted))&&(a=a.textContent)?+(a.match(/\d+/)||[0])[0]:0}function va(a){return a.Text||(a.Text=a.msg.innerHTML.replace(/<\/?(?:br|p|li)[^>]*?>/gi,"\n").replace(/<[^>]+?>/g,
"").replace(/&gt;/g,">").replace(/&lt;/g,"<").trim())}function mc(a){var a=v(d.cFileInfo,a).textContent.match(/\d+[\.\d\smk\u043a]*[b\u0431]/i)[0],b=parseFloat(a.match(/[\d\.]+/));/MB/.test(a)&&(b*=1E3);/\d\s*B/.test(a)&&(b=(b/1E3).toFixed(2));return+b}function Fb(a){a=v(d.cFileInfo,a);return d.brit?(a=a.onclick.toString().split("', '"),[+a[3],+a[4]]):(a=a?a.textContent.match(/\d+[x\u00d7]\d+/):!1)?a[0].split(/[x\u00d7]/):[null,null]}function fb(a){return"/"+a+(a?"/":"")}function na(a,b,c){return"//"+
a+fb(b)+(/(?:^|\.)krautchan\.net$/.test(a)?"thread-":"res/")+c+(/(?:^|\.)(?:dobrochan\.(?:ru|org)|tenhou\.ru)$/.test(a)?".xhtml":/(?:^|\.)420chan\.org$/.test(a)?".php":/(?:^|\.)2chan\.net$/.test(a)?".htm":".html")}function gb(a,b,c){return fb(b)+(0<c?c+hb:/(?:^|\.)(?:dobrochan\.(?:ru|org)|tenhou\.ru)$/.test(a)?"index.xhtml":"")}function Na(a,b){var c,e,i=a instanceof Array;if(i){if(0==a.length)return"[]";c="["}else{if(ya(a))return"{}";c="{"}e=0;h.forEach(a,function(a){var d=this[a],f=typeof d;"function"!==
f&&("object"===f&&(f=null===d?"null":d instanceof Array?"array":d instanceof Date?"date":d instanceof RegExp?"regex":"object"),0<e&&(c+=","),c+="\n"+b+"    "+(i?"":'"'+a+'": ')+("array"===f||"object"===f?Na(d,b+"    "):"boolean"===f||"number"===f?d.toString():"string"===f?'"'+d.replace(/"/g,'\\"')+'"':f),e++)});return c+="\n"+b+(i?"]":"}")}function Gb(a){for(var b,c=0,e=0,i=a.length;e<i;++e){c=(c<<4)+a.charCodeAt(e);if(b=c&4026531840)c^=b>>>24;c&=~b}return c}function Oa(a){return h.isGM?GM_getValue(a):
Ba?Ba.getItem(a):localStorage.getItem(a)}function N(a,b){h.isGM?GM_setValue(a,b):Ba?Ba.setItem(a,b):localStorage.setItem(a,b)}function ib(a,b){try{return JSON.parse(Oa(a))||b}catch(c){return b}}function Pa(a){Qa=Gb(a);wa=a.split("\n");N("DESU_Spells_"+d.dm,JSON.stringify([Qa,wa]));nc()}function Hb(){var a,b=Oa("DESU_Spells_"+d.dm);try{a=JSON.parse(b),Qa=a[0],wa=a[1],nc()}catch(c){Pa(b||"")}}function jb(a){for(var b in a)this[b]=a[b]}function Ib(a){try{var b=JSON.parse(Oa(a));if(b.version)return new jb(b)}catch(c){}return!1}
function oc(a){a=a&&Ib("DESU_GlobalCfg")||new jb({version:Ea.version});a.captchaLang=d.ru?2:1;a.language=navigator.language.contains("ru")?0:1;a.timePattern=a.timeOffset="";a.correctTime=0;return a}function Q(a,b){f[a]!==b&&(f[a]=b,N("DESU_Config_"+d.dm,JSON.stringify(f)))}function kb(a){Q(a,!f[a]?1:0)}function pc(){return!f.hideByWipe?0:f.wipeSameLin|f.wipeSameWrd<<1|f.wipeLongWrd<<2|f.wipeCAPS<<3|f.wipeSpecial<<4|f.wipeNumbers<<5}function qc(){Z=[];if(p){var a=(sessionStorage["de-hidden"]||"").split(",");
if(+a[0]===(f.hideBySpell?Qa:0)&&+a[1]===pc())if(Z=a[2].split(""),a=sessionStorage["de-deleted"])a.split(",").forEach(function(a){Z.splice(a,1)}),delete sessionStorage["de-deleted"]}Z.length=y.length;O=ib("DESU_Posts_"+d.dm+"_"+u,{});rc()}function Fa(){p&&(sessionStorage["de-hidden"]=(f.hideBySpell?Qa+",":"0,")+pc()+","+Z.join(""));oa("hid",!0)}function Ra(){var a,b=JSON.stringify(O);9E3<b.length&&(a=Date.now()-432E6,h.forEach(O,function(b){O[b][1]<a&&delete O[b]}),b=JSON.stringify(O));N("DESU_Posts_"+
d.dm+"_"+u,b);oa("hid",!0)}function rc(){K=ib("DESU_Threads_"+d.dm,{})}function sc(a,b){K[u]||(K[u]={});0===b?K[u][a.num]=a.tTitle:(delete K[u][a.num],ya(K[u])&&delete K[u]);N("DESU_Threads_"+d.dm,JSON.stringify(K))}function Jb(){F=ib("DESU_Favorites",{})}function Sa(a){N("DESU_Favorites",a);oa("fav",!0)}function Kb(a,b,c){delete F[a][b][c];ya(F[a][b])&&delete F[a][b];ya(F[a])&&delete F[a];G[c]&&((v("de-btn-fav-sel",G[c].btns)||{}).className="de-btn-fav")}function tc(a,b){var c=d.host,e=u,i=a.num;
b&&(Jb(),F[c]&&F[c][e]&&F[c][e][i]?Kb(c,e,i):(F[c]||(F[c]={}),F[c][e]||(F[c][e]={}),F[c][e][i]={cnt:a.thr.pCount+1,txt:a.tTitle},b.className="de-btn-fav-sel"),Sa(JSON.stringify(F)))}function da(a,b,c,e,i){return n("li",null,[q("a",{id:"de-btn-"+a,"class":"de-abtn",title:j.panelBtn[a][k],href:c||"#",onmouseout:i},{click:b,mouseover:e})])}function uc(){var a=Da(z).length;ba(z,n("div",{id:"de-main",lang:vc()},[n("div",{id:"de-panel"},[q("span",{id:"de-btn-logo"},{click:function(){kb("expandPanel");ka()}}),
n("ul",{id:"de-panel-btns"},[da("settings",function(a){x(a);oa("cfg",!1)},null,null,null),da("hidden",function(a){x(a);oa("hid",!1)},null,null,null),da("favor",function(a){x(a);oa("fav",!1)},null,null,null),da("refresh",function(a){x(a);window.location.reload()},null,function(){p||A(Ga(m("de-btn-refresh"),!0,'<a href="#">'+j.selAjaxPages[k].join('</a><a href="#">')+"</a>"),function(a){a.onclick=function(a){x(a);wc(Ca.indexOf.call(this.parentNode.children,this)+1)}})},"de_delSelection(event)"),da("goback",
null,"//"+d.host+gb(d.host,u,Lb-1),null,null),E(!p,da("gonext",null,"//"+d.host+gb(d.host,u,Lb+1),null,null)),da("goup",function(a){x(a);window.scrollTo(0,0)},null,null,null),da("godown",function(a){x(a);window.scrollTo(0,l.body.scrollHeight||l.body.offsetHeight)},null,null,null),E(!p&&(g.on||ea),da("newthr",xc,null,null,null)),E(0<a,da("expimg",function(a){x(a);f.expandImgs=1;Ta=!Ta;y.forEach(function(a){Mb(a,Ta)})},null,null,null)),E(g.file||ea,da("maskimg",function(a){x(a);kb("maskImgs");ka()},
null,null,null)),E(p&&3!==f.updThread,da("upd-on",function(a){x(a);za?(lb("off"),clearInterval(za),za=void 0):(this.id="de-btn-upd-on",yc())},null,null,null)),E(!h.Safari&&p&&1===f.updThread,da("audio-off",function(a){x(a);zc();$.repeat=!1;this.id=$.enabled?"de-btn-audio-on":"de-btn-audio-off";w(m("de-select"))},null,xd,"de_delSelection(event)")),E(d.nul,da("catalog",null,"//0-chan.ru/"+u+"/catalog.html",null,null))]),E(p,n("div",{id:"de-panel-info"},[q("span",{title:j.panelBtn.counter[k],text:y.length+
"/"+a},null)]))]),q("div",{"class":"de-content"},null),q("div",{id:"de-alert"},null),q("hr",{style:"clear: both;"},null)]))}function oa(a,b){if(!Ua){var c=v("de-content",l),e="de-content-"+a;b&&c.id!==e||(c.childElementCount&&f.animation?(h.animEvent(c,function(c){Ac(c,e,a,b);e=a=b=null}),c.className="de-content de-cfg-close"):Ac(c,e,a,b))}}function Ac(a,b,c,e){a.innerHTML=a.style.backgroundColor="";if(!e&&a.id===b)a.removeAttribute("id");else{a.id=b;if("cfg"===c)a.appendChild(n("div",{"class":d.cReply},
[q("div",{id:"de-cfg-head",text:"Dollchan Extension Tools"},null),n("div",{id:"de-cfg-bar"},[Ha("filters"),Ha("posts"),Ha("links"),Ha("form"),Ha("common"),Ha("info")]),n("div",{"class":"de-cfg-unvis",id:"de-cfg-filters"},[n("div",null,[n("span",{id:"de-spell-panel"},[q("a",{text:j.add[k],href:"#","class":"de-abtn",onmouseout:"de_delSelection(event)"},{click:x,mouseover:yd}),q("a",{text:j.apply[k],href:"#","class":"de-abtn"},{click:function(a){x(a);Q("hideBySpell",1);l.querySelector('input[info="hideBySpell"]').checked=
!0;Nb()}}),q("a",{text:j.clear[k],href:"#","class":"de-abtn"},{click:function(a){x(a);m("de-spell-edit").value="";Nb()}}),q("a",{text:"?",target:"_blank",href:"//www.freedollchan.org/scripts/spells","class":"de-abtn"},null)]),r("hideBySpell",!1,Nb),q("textarea",{id:"de-spell-edit",rows:10,cols:50},null)]),r("hideByWipe",!0,null),n("div",{id:"de-cfg-wipe"},[n("div",null,[r("wipeSameLin",!1,null),r("wipeSameWrd",!1,null),r("wipeLongWrd",!1,null)]),n("div",null,[r("wipeSpecial",!1,null),r("wipeCAPS",
!1,null),r("wipeNumbers",!1,null)])]),r("filterThrds",!0,null),r("menuHiddBtn",!0,null),r("hideRefPsts",!0,null),r("delHiddPost",!0,function(){A(aa("de-post-hid",z),function(a){I(d.getWrap(a))});ka()})]),n("div",{id:"de-cfg-btns"},[n("span",{style:"float: right;"},[fa("language",!1,function(){Q("language",k=this.selectedIndex);w(m("de-main"));w(m("de-css"));w(m("de-css-dynamic"));Bc();uc();oa("cfg",!1)}),E(h.isGlobal,T(j.load[k],j.loadGlobal[k],function(){Ib("DESU_GlobalCfg")?(N("DESU_Config_"+d.dm,
""),window.location.reload()):J(j.noGlobalCfg[k],"err-noglobalcfg",!1)})),E(h.isGlobal,T(j.save[k],j.saveGlobal[k],function(){N("DESU_GlobalCfg",JSON.stringify(f));oa("cfg",!0)})),T(j.edit[k],j.editInTxt[k],function(){I(W(P("textarea",this.parentNode.parentNode),{value:Na(f,"")}).parentNode)}),T(j.reset[k],j.resetCfg[k],function(){confirm(j.conReset[k])&&(N("DESU_Config_"+d.dm,JSON.stringify(oc(!1))),N("DESU_Stat_"+d.dm,""),N("DESU_Favorites",""),N("DESU_Threads_"+d.dm,""),Pa(""),window.location.reload())})]),
q("br",{style:"clear: both;"},null),n("div",{style:"display: none;"},[q("textarea",{rows:10,cols:50},null),T(j.save[k],j.saveChanges[k],function(){N("DESU_Config_"+d.dm,this.previousSibling.value.trim().replace(/\t|\n/g,""));window.location.reload()})])])])),v("de-cfg-tab",a).click();else{f.attachPanel&&(a.style.backgroundColor=getComputedStyle(l.body).getPropertyValue("background-color"));if("hid"===c){rc();var i,C,s;A(aa("de-post-hid",z),function(b){if(!b.isOp){var c=b.cloneNode(!0);c.removeAttribute("id");
c.style.display="";c.hide=!0;c.pst=b;c.btn=c.querySelector(".de-btn-hide, .de-btn-lock");c.btn.parentNode.className="de-ppanel";c.btn.onmouseover=c.btn.onmouseout=null;c.btn.onclick=function(){var a=ca(this);Va(a,a.hide=!a.hide)};(s||(s=a.appendChild(n("div",{"class":"de-content-block"},[B("<b>"+j.hiddenPosts[k]+":</b>")])))).appendChild(n("div",{"class":"de-entry"},[c]))}});s?ha(a,[T(j.expandAll[k],"",function(){A(this.parentNode.querySelectorAll(".de-entry > [de-post]"),function(a){Va(a,a.hide=
!a.hide)});this.value=this.value==j.undo[k]?j.expandAll[k]:j.undo[k]}),T(j.save[k],"",function(){A(this.parentNode.querySelectorAll(".de-entry > [de-post]"),function(a){a.hide||Ia(a.pst,!1)});Ra()})]):a.appendChild(B("<b>"+j.noHidPosts[k]+"</b>"));ha(a,[B("<hr />"),B("<b>"+(ya(K)?j.noHidThrds[k]:j.hiddenThrds[k]+":")+"</b>")]);if(!ya(K))for(i in K)for(C in s=Cc(a,B("<b>"+i+"</b>")),K[i])s.appendChild(n("div",{"class":"de-entry",info:i+";"+C},[n("div",{"class":d.cReply},[q("input",{type:"checkbox"},
null),B('<a href="'+na(d.host,i,C)+'" target="_blank">\u2116'+C+"</a>"),Y(" - "+K[i][C])])]));ha(a,[B("<hr />"),T(j.edit[k],j.editInTxt[k],function(){I(W(P("textarea",this.parentNode),{value:Na(K,"")}).parentNode)}),T(j.remove[k],j.clrSelected[k],function(){A(this.parentNode.querySelectorAll(".de-entry[info]"),function(a){var b=a.getAttribute("info").split(";"),c=b[0],b=b[1];P("input",a).checked&&(G[b]?Ia(G[b],!1):delete K[c][b],ya(K[c])&&delete K[c])});N("DESU_Threads_"+d.dm,JSON.stringify(K));Ra()}),
n("div",{style:"display: none;"},[q("textarea",{rows:9,cols:70},null),T(j.save[k],j.saveChanges[k],function(){N("DESU_Threads_"+d.dm,this.previousSibling.value.trim().replace(/\t|\n/,""));window.location.reload()})])])}if("fav"===c){Jb();var D,t,g,Ob;for(D in F)for(t in F[D])for(g in Ob=Cc(a,B('<a href="http://'+D+gb(D,t,0)+'">'+D+"/"+t+"</a>")),F[D][t])Ob.appendChild(n("div",{"class":"de-entry",info:D+";"+t+";"+g},[n("div",{"class":d.cReply},[B('<input type="checkbox" />'),q("span",{"class":"de-btn-expthr"},
{click:zd}),B('<a href="'+na(D,t,g)+'">\u2116'+g+"</a>"),B('<span class="de-fav-title"> - '+F[D][t][g].txt+"</span>"),B('<span class="de-fav-inf-page"></span>'),B('<span class="de-fav-inf-posts">[<span class="de-fav-inf-old">'+F[D][t][g].cnt+"</span>]</span>")])]));Ob||a.appendChild(B("<b>"+j.noFavorites[k]+"</b>"));ha(a,[l.createElement("hr"),T(j.edit[k],j.editInTxt[k],function(){I(W(P("textarea",this.parentNode),{value:Na(F,"")}).parentNode)}),T(j.info[k],j.infoCount[k],function(){A(aa("de-entry",
l),function(a){var b,c=a.getAttribute("info").split(";");c[0]===d.host&&(b=W(v("de-fav-inf-posts",a).firstElementChild,{"class":"de-wait",text:""}),pa(null,c[1],c[2],!0,function(a,e,i){a=i?i:a.length+1;b.textContent=a;!i&&a>F[c[0]][c[1]][c[2]].cnt?(b.className="de-fav-inf-new",F[c[0]][c[1]][c[2]].cnt=a,N("DESU_Favorites",JSON.stringify(F))):b.className="de-fav-inf-old";b=c=null}))})}),T(j.page[k],j.infoPage[k],function(){var a=6,b=0;for(J(j.loading[k],"load-pages",!0);a--;)Dc(B("<div></div>"),a,function(a,
c){A(aa("de-entry",l),function(e){var i=e.getAttribute("info").split(";");i[0]!==d.host||i[1]!==u||(e=v("de-fav-inf-page",e),RegExp("(?:\u2116|No.|>)\\s*"+i[2]+"\\s*<").test(a.innerHTML)?e.innerHTML="@"+c:5===b&&!e.textContent.contains("@")&&(e.innerHTML="@?"))});5===b&&qa(m("de-alert-load-pages"));b++;a=c=null})}),T(j.clear[k],j.clrDeleted[k],function(){A(aa("de-entry",l),function(a){var b=a.getAttribute("info").split(";");h.Opera&&b[0]!==d.host||pa(na(b[0],b[1],b[2]),null,null,!1,function(a,c,e){e&&
(Kb(b[0],b[1],b[2]),Sa(JSON.stringify(F)));b=null})})}),T(j.remove[k],j.clrSelected[k],function(){A(aa("de-entry",l),function(a){var b=a.getAttribute("info").split(";");P("input",a).checked&&Kb(b[0],b[1],b[2])});Sa(JSON.stringify(F))}),n("div",{style:"display: none;"},[q("textarea",{rows:9,cols:70},null),T(j.save[k],j.saveChanges[k],function(){Sa(this.previousSibling.value.trim().replace(/\n|\r/,""))})])])}}f.animation&&(a.className="de-content de-cfg-open")}}function ra(a,b){for(var c=b.length;c--;)(l.querySelector(b[c])||
{}).disabled=!a}function Pb(){ra(f.hideByWipe,'input[info="wipeSameLin"] input[info="wipeSameWrd"] input[info="wipeLongWrd"] input[info="wipeSpecial"] input[info="wipeCAPS"] input[info="wipeNumbers"]'.split(" "));ra(1===f.updThread||2===f.updThread,['input[info="updThrDelay"]','input[info="favIcoBlink"]','input[info="desktNotif"]']);ra(f.preLoadImgs,['input[info="findRarJPEG"]','input[info="showGIFs"]','input[info="noImgSpoil"]']);ra(f.linksNavig,['input[info="linksOver"]','input[info="linksOut"]',
'input[info="markViewed"]','input[info="strikeHidd"]','input[info="noNavigHidd"]']);ra(f.addYouTube&&4!==f.addYouTube,['select[info="YTubeType"]','input[info="YTubeHD"]']);ra(f.addYouTube,['input[info="YTubeWidth"]','input[info="YTubeHeigh"]','input[info="YTubeTitles"]']);ra(2===f.ajaxReply,['input[info="postSameImg"]','input[info="removeEXIF"]','input[info="removeFName"]']);ra(f.addTextBtns,['input[info="txtBtnsLoc"]']);ra(f.updScript,['select[info="scrUpdIntrv"]'])}function r(a,b,c){var e=q("input",
{info:a,type:"checkbox"},{click:function(){kb(this.getAttribute("info"));Pb();c&&c(this)}});e.checked=f[a];return n("label",b?{"class":"de-blockinp"}:null,[e,Y(" "+j.cfg[a][k])])}function la(a,b,c){return q("input",{info:a,type:"text",size:b,value:f[a]},{keyup:c?c:function(){Q(this.getAttribute("info"),this.value)}})}function fa(a,b,c){for(var e=0,i=j.cfg[a],d=i.sel[k].length,s=[];e<d;e++)s[e]='<option value="'+e+'">'+i.sel[k][e]+"</option>";(c=S(B('<select info="'+a+'">'+s.join("")+"</select>"),
{change:c?c:function(){Q(this.getAttribute("info"),this.selectedIndex);Pb()}})).selectedIndex=f[a];return n("label",b?{"class":"de-blockinp"}:null,[c,Y(" "+i.txt[k])])}function Ha(a){return n("div",{"class":d.cReply+" de-cfg-tab-back",selected:!1},[q("div",{"class":"de-cfg-tab",text:j.cfgTab[a][k],info:a},{click:function(){var a,c;c=this.parentNode;if("true"!==c.getAttribute("selected")){if(a=v("de-cfg-body",l))a.className="de-cfg-unvis",l.querySelector('.de-cfg-tab-back[selected="true"]').setAttribute("selected",
!1);c.setAttribute("selected",!0);c=this.getAttribute("info");(a=m("de-cfg-"+c))||L(m("de-cfg-bar"),a="posts"===c?n("div",{"class":"de-cfg-unvis",id:"de-cfg-posts"},[fa("updThread",!1,null),n("label",null,[la("updThrDelay",4,null),Y(j.cfg.updThrDelay[k])]),n("div",{style:"padding-left: 25px;"},[E(!h.WebKit,r("favIcoBlink",!0,null)),E(h.WebKit,r("desktNotif",!0,function(){f.desktNotif&&window.webkitNotifications.requestPermission()}))]),fa("expandPosts",!0,null),fa("expandImgs",!0,null),E(!h.noBlob,
r("preLoadImgs",!0,null)),E(!h.noBlob,n("div",{style:"padding-left: 25px;"},[E(!d.abu&&!d.fch,r("findRarJPEG",!0,null)),r("showGIFs",!0,null),r("noImgSpoil",!0,null)])),r("postBtnsTxt",!0,null),r("imgSrcBtns",!0,null),r("noSpoilers",!0,ka),r("noPostNames",!0,ka),r("noPostScrl",!0,ka),n("div",null,[r("keybNavig",!1,null),q("a",{text:"?",href:"#","class":"de-abtn"},{click:function(a){x(a);J(j.keyNavHelp[k],"help-keybnavig",!1)}})]),r("correctTime",!0,sa.toggleSettings),n("div",{style:"padding-left: 25px;"},
[n("div",null,[la("timeOffset",3,null),Y(j.cfg.timeOffset[k])]),n("div",null,[la("timePattern",30,null),Y(" "),q("a",{text:j.cfg.timePattern[k],href:"#","class":"de-abtn"},{click:function(a){x(a);J('"s" - second (one digit),\n"i" - minute (one digit),\n"h" - hour (one digit),\n"d" - day (one digit),\n"w" - week (string)\n"n" - month (one digit),\n"m" - month (string),\n"y" - year (one digit),\n"-" - any symbol\n"+" - any symbol except digits\n"?" - previous char may not be\n\nExamples:\n0chan.ru: "w+yyyy+m+dd+hh+ii+ss"\niichan.ru, 2ch.so: "w+dd+m+yyyy+hh+ii+ss"\ndobrochan.ru: "dd+m+?+?+?+?+?+yyyy++w++hh+ii-?s?s?"\n410chan.org: "dd+nn+yyyy++w++hh+ii+ss"\n4chan.org: "nn+dd+yy+w+hh+ii-?s?s?"\n4chon.net: "nn+dd+yy++w++hh+ii+ss"\nkrautchan.net: "yyyy+nn+dd+hh+ii+ss+--?-?-?-?-?"',
"help-correcttime",!1)}})])])]):"links"===c?n("div",{"class":"de-cfg-unvis",id:"de-cfg-links"},[fa("linksNavig",!0,null),n("div",{style:"padding-left: 25px;"},[n("div",null,[la("linksOver",6,function(){Q("linksOver",+this.value|0)}),Y(j.cfg.linksOver[k])]),n("div",null,[la("linksOut",6,function(){Q("linksOut",+this.value|0)}),Y(j.cfg.linksOut[k])]),r("markViewed",!0,null),r("strikeHidd",!0,null),r("noNavigHidd",!0,null)]),r("crossLinks",!0,null),r("insertNum",!0,null),r("addMP3",!0,null),r("addImgs",
!0,null),fa("addYouTube",!0,null),n("div",{style:"padding-left: 25px;"},[n("div",null,[fa("YTubeType",!1,null),la("YTubeWidth",6,null),Y("\u00d7"),la("YTubeHeigh",6,null),Y(" "),r("YTubeHD",!1,null)]),E(!(h.Opera&&12>h.Opera),r("YTubeTitles",!1,null))])]):"form"===c?n("div",{"class":"de-cfg-unvis",id:"de-cfg-form"},[fa("ajaxReply",!0,null),E(!h.Safari&&!h.noBlob,n("div",{style:"padding-left: 25px;"},[r("postSameImg",!0,null),r("removeEXIF",!0,null),r("removeFName",!0,null)])),E(g.on,fa("addPostForm",
!0,null)),E(g.on,r("noThrdForm",!0,function(){p||(m("de-parea").style.display=f.noThrdForm?"none":"")})),r("favOnReply",!0,null),E(g.mail,n("div",null,[r("addSageBtn",!1,null),r("saveSage",!1,null)])),fa("captchaLang",!0,null),E(g.on,n("div",null,[fa("addTextBtns",!1,function(){Q("addTextBtns",this.selectedIndex);Qb()}),r("txtBtnsLoc",!1,Qb)])),E(g.passw,n("div",null,[la("passwValue",20,Ec),Y(j.cfg.userPassw[k])])),E(g.name,n("div",null,[la("nameValue",20,Rb),r("userName",!1,Rb)])),E(g.txta,n("div",
null,[la("signatValue",20,null),r("userSignat",!1,null)])),n("div",null,[E(g.on||ea,Y(j.dontShow[k])),r("noBoardRule",!1,ka),E(g.gothr,r("noGoto",!1,function(){I(g.gothr)})),E(g.passw,r("noPassword",!1,function(){I(g.passw.parentNode.parentNode)}))])]):"common"===c?n("div",{"class":"de-cfg-unvis",id:"de-cfg-common"},[E(h.isGlobal,n("div",null,[Y(j.cfg.excludeList[k]),q("textarea",{value:Oa("DESU_Exclude")||"",rows:6,cols:50},{keyup:function(){N("DESU_Exclude",this.value)}})])),fa("scriptStyle",!0,
function(){Q("scriptStyle",this.selectedIndex);m("de-main").lang=vc()}),r("attachPanel",!0,function(){oa("cfg",!1);ka()}),r("panelCounter",!0,ka),r("rePageTitle",!0,null),E(h.Anim,r("animation",!0,null)),r("closePopups",!0,null),E(!h.Opera,n("div",null,[r("updScript",!0,null),n("div",{id:"de-upd-cont",style:"padding: 2px 0 10px 25px;"},[fa("scrUpdIntrv",!0,null),T(j.checkNow[k],"",function(){var a=m("de-updresult");a.innerHTML='<span class="de-wait">'+j.checking[k]+"</div>";Fc(!0,function(b){a.innerHTML=
b})})]),q("div",{id:"de-updresult",style:"font-size: 1.1em; text-align: center"},null)]))]):n("div",{"class":"de-cfg-unvis",id:"de-cfg-info"},[B('<span style="width: 179px;"><b>'+j.version[k]+f.version+"</b><br><br>"+j.storage[k]+(h.isGM?"Mozilla config":Ba?"Opera ScriptStorage":"Local Storage")+"<br>"+j.thrViewed[k]+ga.view+"<br>"+j.thrCreated[k]+ga.op+"<br>"+j.posts[k]+ga.reply+"</span>"),B('<span style="padding-left: 7px; border-left: 1px solid grey;">'+eb.split("\n").join("<br>")+"<br>"+j.total[k]+
Sb+"ms</span>"),n("div",{style:"display: table;"},[B('<span style="display: table-cell; width: 100%;"><a href="//www.freedollchan.org/scripts/" target="_blank">http://www.freedollchan.org/scripts</a></span>'),W(T(j.debug[k],j.infoDebug[k],function(){var a,b=new jb(f),c=eb.split("\n");c[c.length-1]=j.total[k]+Sb+"ms";delete b.nameValue;delete b.passwValue;delete b.signatValue;delete b.lastScrUpd;for(a in b)b[a]===Ea[a]&&delete b[a];J(j.infoDebug[k]+':<br /><textarea readonly rows="20" cols="75">'+
Na({version:Ea.version,location:String(window.location),nav:h,cfg:b,spells:wa,perf:c},"")+"</textarea>","help-debug",!1)}),{style:"display: table-cell;"})])]));a.className="de-cfg-body";"filters"===c&&(Hb(),m("de-spell-edit").value=wa.join("\n"));Pb()}}})])}function Cc(a,b){return a.appendChild(n("div",{"class":"de-content-block"},[q("input",{type:"checkbox"},{click:function(){var a=this.checked;A(this.parentNode.querySelectorAll(".de-entry > div > input"),function(b){b.checked=a});a=null}}),b]))}
function qa(a){a&&(a.closeTimeout=null,f.animation?(h.animEvent(a,w),h.addClass(a,"de-close")):w(a))}function J(a,b,c){var e=m("de-alert-"+b),i="de-alert-msg"+(c?" de-wait":""),C=c?"":"\u00d7 ";e?(W(P("div",e),{"class":i}).innerHTML=a.trim(),P("span",e).textContent=C,clearTimeout(e.closeTimeout),f.animation&&(h.animEvent(e,function(a){h.remClass(a,"de-blink")}),h.addClass(e,"de-blink"))):(e=m("de-alert").appendChild(n("div",{"class":d.cReply,id:"de-alert-"+b},[q("span",{"class":"de-alert-btn",text:C},
{click:function(){qa(this.parentNode)}}),B('<div class="'+i+'">'+a.trim()+"</div>")])),f.animation&&(h.animEvent(e,function(a){h.remClass(a,"de-open")}),h.addClass(e,"de-open")));f.closePopups&&(!c&&!b.contains("help"))&&(e.closeTimeout=setTimeout(qa,4E3,e))}function Ga(a,b,c){var e,i=ca(a);f.attachPanel&&b?(e="fixed",b="de-btn-refresh"===a.id||"de-btn-audio-off"===a.id?"bottom: 25":"top: "+(a.getBoundingClientRect().top+a.offsetHeight-(h.Firefox?0.5:0))):(e="absolute",b="top: "+(ma(a).top+a.offsetHeight-
(h.Firefox?0.5:0)));l.body.appendChild(S(B('<div class="'+d.cReply+'" id="de-select" style="position: '+e+"; "+("de-btn-src"===a.className?"left: "+ma(a).left:"right: "+(l.body.clientWidth-ma(a).left-a.offsetWidth))+"px; "+b+'px;" onmouseout="de_delSelection(event)">'+c+"</div>"),{mouseover:function(){i&&Wa(i,!1)}}));return m("de-select").getElementsByTagName("a")}function yd(a){A(Ga(a.target,!0,'<div style="display: inline-block; border-right: 1px solid grey;"><a href="#">'+"#b/;#b/itt;#exp ;#exph ;#img ;#imgn ;#name ;#noimg;#notxt;#num ;".split(";").join('</a><a href="#">')+
'</a></div><div style="display: inline-block;"><a href="#">'+"#op;#outrep;#rep ;#sage;#skip ;#theme ;#tmax ;#trip;#video ".split(";").join('</a><a href="#">')+"</a></div>"),function(a){a.onclick=function(a){var b=this.textContent;x(a);"#b/"===b?b="#"+u+"/ ":"#b/itt"===b&&(b="#"+u+"/"+(p?p+" ":" "));Ma(m("de-spell-edit"),b)}})}function xd(){"de-btn-audio-off"===this.id&&A(Ga(m("de-btn-audio-off"),!0,'<a href="#">'+j.selAudioNotif[k].join('</a><a href="#">')+"</a>"),function(a){a.onclick=function(a){x(a);
a=Ca.indexOf.call(this.parentNode.children,this);$.repeat=0===a?3E4:1===a?6E4:2===a?12E4:3E5;zc();m("de-btn-audio-off").id="de-btn-audio-on";w(this.parentNode)}})}function Gc(a,b){if(d.kus||d.tinyIb)return a.replace(/\?[^?]+$|$/,(d._410?"?board="+u+"&":"?")+Math.random());0<b&&(a=a.replace(/mainpage|res\d+/ig,"res"+b));return a.replace(/dummy=[\d\.]*/,"dummy="+Math.random())}function Xa(a){var b=g.recap?m("recaptcha_image")||g.recap:V(g.tr+"//img",g.cap);d.hana||g.recap?(a=l.createEvent("MouseEvents"),
a.initEvent("click",!0,!0),b.dispatchEvent(a)):(a=Gc(b.getAttribute("src"),a),b.src="",b.src=a)}function Hc(){var a=f.sageReply;m("de-sagebtn").innerHTML="&nbsp;"+(a?'<span class="de-btn-sage"></span><b style="color: red;">SAGE</b>':"<i>(no&nbsp;sage)</i>");"text"===g.mail.type?g.mail.value=a?"sage":d.fch?"noko":"":g.mail.checked=a}function Rb(){var a=l.querySelector('input[info="nameValue"]');a&&Q("nameValue",a.value);g.name.value=f.userName?f.nameValue:""}function Ec(){var a=l.querySelector('input[info="passwValue"]');
a&&Q("passwValue",a.value);(g.dpass||{}).value=g.passw.value=f.passwValue}function Tb(a){A(a.querySelectorAll('input[type="file"]'),function(a){S(a,{change:Ic})})}function Jc(a){A(a.querySelectorAll(".de-file-util"),w);A(a.querySelectorAll('input[type="file"]'),function(a){a.rarJPEG=null})}function Ic(){this.haveBtns?this.rarJPEG&&(this.rarJPEG=null,w(this.nextSibling)):(this.haveBtns=!0,L(this,W(q("button",{"class":"de-file-util de-file-del",text:j.clear[k],type:"button"},{click:function(a){x(a);
var b=this.parentNode;Jc(b);a=g;b=kc(b,b.innerHTML).querySelector('input[type="file"]');S(a.file=b,{change:Ic})}}))));!d.abu&&!d.fch&&(w(v("de-file-rar",this.parentNode)),/^image\/(?:png|jpeg)$/.test(this.files[0].type)&&L(this,W(q("button",{"class":"de-file-util de-file-rar",text:j.addRar[k],type:"button"},{click:function(a){x(a);var a=m("de-file-rar")||l.body.appendChild(q("input",{id:"de-file-rar",type:"file",style:"display: none"},null)),b=this.parentNode.querySelector('input[type="file"]'),c=
this;a.onchange=function(){w(c);var a=this.files[0],i=new FileReader,d=B('<span class="de-file-util" style="margin: 0 5px;"><span class="de-wait"></span>'+j.wait[k]+"</span>");L(b,d);i.onload=function(){b.nextSibling===d&&(W(d,{style:"font-weight: bold; margin: 0 5px; cursor: default;",title:b.files[0].name+" + "+a.name,text:"rarJPEG"}),b.rarJPEG=this.result);d=b=a=null};i.readAsArrayBuffer(a);c=null};a.click()}}))));Tb(V(g.tr,this))}function Kc(a,b,c){g.form.style.display="inline-block";g.form.style.textAlign=
"left";if(h.Opera){var e=function(a){var b=ma(g.txta);g.txta.style.width=a.pageX-b.left+"px";g.txta.style.height=a.pageY-b.top+"px"},i=function(){zb(l.body,{mousemove:e,mouseup:i});Q("textaWidth",parseInt(g.txta.style.width,10));Q("textaHeight",parseInt(g.txta.style.height,10))};L(g.txta,q("div",{id:"de-txt-resizer"},{mousedown:function(a){x(a);S(l.body,{mousemove:e,mouseup:i})}}))}else S(g.txta,{mouseup:function(){Q("textaWidth",parseInt(this.style.width,10));Q("textaHeight",parseInt(this.style.height,
10))}});Qb();g.txta.style.cssText="width: "+f.textaWidth+"px; height: "+f.textaHeight+"px;";S(g.txta,{keypress:function(a){var b=a.charCode||a.keyCode;if((33===b||34===b)&&0===a.which)a.target.blur(),window.focus()}});S(g.subm,{click:function(){var a=g.txta.value,b=f.signatValue;f.hideBySpell&&U.outrep[0]&&(a=Lc(U.outrep,a));f.userSignat&&b&&(a+="\n"+b);if(g.tNum&&"Dollchan Extension Tools"===(v("filetitle",G[g.tNum])||{}).textContent&&!/`\n`\-{50}`/.test(a))a+="\n\n`--------------------------------------------------`\n`"+
window.navigator.userAgent+"`\n`v"+f.version+"`\n`--------------------------------------------------`";g.txta.value=a;f.ajaxReply&&J(j.checking[k],"upload",!0);f.favOnReply&&g.tNum&&tc(G[g.tNum],v("de-btn-fav",G[g.tNum].btns));g.tNum?ga.reply=+ga.reply+1:ga.op=+ga.op+1;N("DESU_Stat_"+d.dm,JSON.stringify(ga));if(g.video&&(a=g.video.value)&&(a=a.match(Ya())))g.video.value="http://www.youtube.com/watch?v="+a[1];g.isQuick&&(I(m("de-qarea")),L(m("de-togglereply"),m("de-pform")))}});A(g.form.querySelectorAll('input[type="text"], input[type="file"]'),
function(a){a.size=30});f.noGoto&&g.gothr&&I(g.gothr);f.noPassword&&g.passw&&I(V(g.tr,g.passw));S(window,{load:function(){f.userName&&g.name&&setTimeout(Rb,1E3);g.passw&&setTimeout(Ec,1E3)}});g.recap&&(W(g.subm,{onclick:"Recaptcha.focus_response_field = function() {}"}),(c=m("recaptcha_image"))&&W(c,{onclick:"Recaptcha.reload()",style:"width: 300px; cursor: pointer;"}));if(g.cap&&(d.abu&&setTimeout(function(){Xa(0);g.cap.onclick=null},50),g.cap.autocomplete="off",g.cap.onfocus=null,g.cap.onkeypress=
function(a){if(f.captchaLang&&0!==a.which){var b,c=a.charCode||a.keyCode,e=String.fromCharCode(c).toLowerCase();if(1===f.captchaLang){if(1040>c||1279<c||-1===(b="\u0439\u0446\u0443\u043a\u0435\u043d\u0433\u0448\u0449\u0437\u0445\u044a\u0444\u044b\u0432\u0430\u043f\u0440\u043e\u043b\u0434\u0436\u044d\u044f\u0447\u0441\u043c\u0438\u0442\u044c\u0431\u044e\u0451".indexOf(e)))return;e="qwertyuiop[]asdfghjkl;'zxcvbnm,.`"[b]}else{if(33>c||122<c||-1===(b="qwertyuiop[]asdfghjkl;'zxcvbnm,.`".indexOf(e)))return;
e="\u0439\u0446\u0443\u043a\u0435\u043d\u0433\u0448\u0449\u0437\u0445\u044a\u0444\u044b\u0432\u0430\u043f\u0440\u043e\u043b\u0434\u0436\u044d\u044f\u0447\u0441\u043c\u0438\u0442\u044c\u0431\u044e\u0451"[b]}x(a);Ma(a.target,e)}},!d.hana&&!g.recap)){a=d.kus?V(g.tr,g.cap).querySelector("a, img"):V(g.tr+"//img",g.cap);b=q("img",{alt:j.loading[k],title:j.refresh[k],style:"display: block; border: none; cursor: pointer;"},{click:function(){Xa(p||0)}});if(a)a.parentNode.replaceChild(b,a);else{for(;g.cap.nextSibling;)w(g.cap.nextSibling);
L(g.cap,b)}setTimeout(function(b){b.src=Gc(d._410?"/faptcha.php?board="+u:d.hid?"/securimage/securimage_show.php?"+Math.random():d.kus?"/"+u.substr(0,u.indexOf("/")+1)+"captcha.php?"+Math.random():a?a.src:"/"+u+"/captcha.pl?key=mainpage&amp;dummy="+Math.random(),p||0)},50,b)}f.addSageBtn&&g.mail&&(b=q("span",{id:"de-sagebtn"},{click:function(a){a.stopPropagation();x(a);kb("sageReply");Hc()}}),c=V("ancestor::label",g.mail)||g.mail,c.nextElementSibling||c.previousElementSibling?(I(c),L(c,b)):(I(V(g.tr,
g.mail)),L(g.name||g.subm,b)),setTimeout(Hc,0));2===f.ajaxReply?(g.form.onsubmit=function(a){x(a);Ub(new mb(g.form,g.subm),Mc)},z.onsubmit=x,A(z.querySelectorAll('input[type="submit"]'),function(a){a.onclick=function(a){x(a);Aa();J(j.deleting[k],"deleting",!0);Ub(new mb(z,this),Nc)}})):1===f.ajaxReply&&(ha(m("de-main"),[B('<iframe id="de-iframe-pform" name="de-iframe-pform" src="about:blank"/>'),B('<iframe id="de-iframe-dform" name="de-iframe-dform" src="about:blank"/>')]),W(g.form,{target:"de-iframe-pform"}).onsubmit=
null,W(z,{target:"de-iframe-dform"}).onsubmit=function(){Aa();J(j.deleting[k],"deleting",!0)});g.file&&Tb(V(g.tr,g.file))}function Oc(a){if(!a.body.firstChild||a.querySelector(d.qDForm))return"";var b="";A(a.querySelectorAll(d.hana?".post-error, h2":d.kus?'h1, h2, div[style*="1.25em"]':d.fch?"#errmsg":d.krau?".message_text":d._420?"pre":'h1, h2, font[size="5"]'),function(a){b+=a.innerHTML+"\n"});(b=b.replace(/<a [^>]+>\u041d\u0430\u0437\u0430\u0434.+|<br.+/,""))||(b=j.error[k]+"\n"+a.body.innerHTML);
return/successful|uploaded|updating|\u043e\u0431\u043d\u043e\u0432\u043b|\u0443\u0434\u0430\u043b\u0435\u043d[\u043e\.]/i.test(b)?"":b.replace(/"/g,"'")}function Pc(){qa(m("de-alert-upload"));2===f.updThread&&ta(null,0)}function Mc(a,b){var c;a?(g.isQuick&&(I(c=m("de-qarea")),c.appendChild(m("de-pform"))),g.cap&&/captch|\u043a\u0430\u043f\u0447|\u043f\u043e\u0434\u0442\u0432\u0435\u0440/i.test(a)&&(g.cap.value="",g.cap.focus(),Xa(g.tNum)),J(a,"upload",!1)):(g.txta.value="",g.file&&(c=V(g.tr,g.file),
Jc(c),c=kc(c,c.innerHTML),g.file=c.querySelector('input[type="file"]'),Tb(c)),g.video&&(g.video.value=""),(c=g.tNum)?(Aa(),p?nb(!1,Pc):Za(G[c],5,Pc),g.cap&&(g.cap.value="",Xa(c))):window.location=b)}function Qc(a,b){if(d.fch)return P("meta",a).content.match(/http:\/\/[^"]+/)[0];if(b)return window.location;var c=a.querySelector(d.qDForm);return c?na(d.host,u,d.getTNum(c)):""}function Rc(){var a=m("de-alert-deleting");a&&(qa(a),J(j.succDeleted[k],"deleted",!1))}function Nc(a){var b=[];a?J(j.errDelete[k]+
a,"deleting",!1):(A(z.querySelectorAll("[de-post] input:checked"),!p?function(a){a=ca(a).thr.num;-1===b.indexOf(a)&&b.push(a)}:function(a){a.checked=!1}),p?nb(!1,Rc):b.forEach(function(a){Za(G[a],5,Rc)}));b=null}function Ub(a,b){if(!a.error)if(0<a.busy)setTimeout(Ub,200,a,b);else{var c={"Content-type":"multipart/form-data; boundary="+a.boundary};h.Firefox&&(c.Referer=""+l.location);a.data.push("--"+a.boundary+"--\r\n");GM_xmlhttpRequest({method:"POST",headers:c,data:h.toBlob(a.data,null),url:h.fixLink(a.url),
onreadystatechange:function(a){4===a.readyState&&(200===a.status?(a=h.toDOM(a.responseText),b(Oc(a),Qc(a,!1)),b=null):J(0===a.status?j.noConnect[k]:"HTTP ["+a.status+"] "+a.statusText,"upload",!1))}})}}function Ad(a,b){return a[b+1]<<8|a[b]}function Bd(a,b){return a[b+3]<<24|a[b+2]<<16|a[b+1]<<8|a[b]}function Cd(a,b){return a[b]<<8|a[b+1]}function Dd(a,b){return a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3]}function Ed(a,b){var c=0,e=0,i=a.length,d=0,s=!!f.removeEXIF,D=!1;if(!f.postSameImg&&!s&&!b)return[a];
if(255===a[0]&&216===a[1]){for(;c<i-1;)a:{if(255===a[c]){if(s){if(225===a[c+1]&&69===a[c+4]&&!D)b:{var D=a,t=c+10,h=(a[c+2]<<8)+a[c+3],g=void 0,k=void 0,j=void 0,l=void 0,m=void 0,n=void 0,p=void 0,q=0,r=0,u=0;"MM"===String.fromCharCode(D[t],D[t+1])?(n=Cd,p=Dd):(n=Ad,p=Bd);if(42!==n(D,t+2))D=!1;else if(g=p(D,t+4),g>h)D=!1;else{m=n(D,g+=t);for(k=0;k<m;k++)if(j=g+2+12*k,l=n(D,j),!(282!==l&&283!==l&&296!==l))if(296===l)u=n(D,j+8)-1;else{j=p(D,j+8);if(j>h){D=!1;break b}j+=t;282===l?q=+(p(D,j)/p(D,j+4)).toFixed(0):
r=+(p(D,j)/p(D,j+4)).toFixed(0)}q=q||r;r=r||q;D=[u,q>>8,q&255,r>>8,r&255]}}else 224===a[c+1]&&(70===a[c+7]&&!D)&&(D=[a[c+11],a[c+12],a[c+13],a[c+14]]);if(14===a[c+1]>>4||254===a[c+1]){c+=2+(a[c+2]<<8)+a[c+3];break a}}if(216===a[c+1])d++;else if(217===a[c+1]&&0===--d){a[e]=a[c];break}}e!==c&&(a[e]=a[c]);c++;e++}e+=2;c+=2;if(e!==c)a[e-1]=a[c-1];else if(e===i)return[a];if(!b&&75<i-c)for(;c<i;a[e++]=a[c++]);if(s){c=d=new Uint8Array(i=e+18);e=D||[0,0,1,0,1];c[0]=255;c[1]=216;c[2]=255;c[3]=224;c[4]=0;c[5]=
16;c[6]=74;c[7]=70;c[8]=73;c[9]=70;c[10]=0;c[11]=1;c[12]=1;c[18]=0;c[19]=0;c[13]=e[0];c[14]=e[1];c[15]=e[2];c[16]=e[3];c[17]=e[4];c=2;for(e=20;e<i;c++,e++)d[e]=a[c];return[d]}}else if(137===a[0]&&80===a[1]){for(;e<i-7&&!(73===a[e]&&69===a[e+1]&&78===a[e+2]&&68===a[e+3]);e++);e+=8;if(e===i||!b&&75<i-e)return[a]}else return null;return[new Uint8Array(a,e)]}function mb(a,b){this.boundary="---------------------------"+Math.round(1E11*Math.random());this.data=[];this.busy=0;this.error=!1;this.url=a.action;
A(a.querySelectorAll('input:not([type="submit"]), textarea, select'),this.append.bind(this));this.append(b)}function Vb(a){var b=a.thr.num,c=m("de-qarea");g.tNum=b;if(g.isQuick){if(d.getWrap(a).nextElementSibling===c){I(c);Aa();return}}else g.isQuick=!0,c.appendChild(m("de-pform")),I(m("de-togglereply")),!p&&(!d.kus&&!d.hana)&&(w(g.form.querySelector('#thr_id, input[name="parent"]')),ba(g.form.firstChild,B('<input type="hidden" id="thr_id" value="'+b+'" name="'+(d.fch||d.gazo?"resto":d.tiny?"thread":
"parent")+'">')),ea&&(w(ea.querySelector('input[name="oek_parent"]')),ba(ea.firstChild,B('<input type="hidden" value="'+b+'" name="oek_parent">'))));L(d.getWrap(a),c);c.style.display="";p||(Sc(b),f.noThrdForm&&(m("de-parea").style.display="none"));g.cap&&(!g.recap&&!d.kus)&&Xa(b);d._420&&"Comment"===g.txta.value&&(g.txta.value="");Ma(g.txta,">>"+a.num+(Ja||"").replace(/(?:^|\n)(.)/gm,"\n> $1")+"\n");3===f.addPostForm&&W(P("a",m("de-qarea-target")),{href:na(d.host,u,b),text:"#"+b})}function Aa(){if(g.isQuick){var a=
m("de-togglereply"),b=m("de-qarea");g.isQuick=!1;p||(Sc(0),w(m("thr_id")));I(a);b.style.display="none";L(m("de-parea"),b);L(a,m("de-pform"))}}function Sc(a){g.form.querySelector('#thr_id, input[name*="thread"]').value=a;ea&&(ea.querySelector('input[name="oek_parent"], input[name="replyto"]').value=a);d.pony&&(g.form.querySelector('input[name="quickreply"]').value=a||"")}function xc(a){var b=m("de-parea");x(a);g.isQuick?(b.style.display="",Aa()):I(b);Bb(b)}function Fd(a){/Reply|\u041e\u0442\u0432\u0435\u0442/.test(a.target.textContent)||
(a.stopPropagation(),x(a),!p&&(f.noThrdForm&&!g.isQuick)&&(m("de-parea").style.display=""),a=ca(a.target).num,p&&1<f.addPostForm&&!g.isQuick?Vb(G[a]):(d._420&&"Comment"===g.txta.value&&(g.txta.value=""),Ma(g.txta,">>"+a)))}function Qb(){if(g.txta){var a=d.kus||d.krau||d._420||d.mlpg,b={bold:[d._420?"**":a?"b":"**","B"],italic:[d._420?"*":a?"i":"*","i"],under:[a?"u":"__","U"],strike:[d.mlpg?"-":a?"s":d._410?"^^":"","S"],spoil:[d.mlpg?"s":d._420?"%":a||d.fch?"spoiler":"%%","%"],code:[d.mlpg?"c":d.krau?
"aa":d._420?"pre":a?"code":"`","C"],quote:[,"&gt;"]},c=function(e){var i=g.txta,C=m("de-btn-"+e),s=b[e][1];C||(C=q("span",{id:"de-btn-"+e,title:j.txtBtn[e][k]},null),"&gt;"!==s?C.onclick=function(c){var e,f,C=i.selectionStart,s=i.selectionEnd,h=i.scrollTop,g=i.value.substring(C,s).split("\n"),j=g.length;e=b[this.id.substring(7)][0];x(c);a||d.fch&&"spoiler"===e?(c="["+e+"]",e="[/"+e+"]"):c=e;for(;j--;){if(!c)for(f=g[j].trim().length;f--;)e+="^H";f=s+c.length+e.length;g[j].match(/^\s+/)&&(c=g[j].match(/^\s+/)[0]+
c);g[j].match(/\s+$/)&&(e+=g[j].match(/\s+$/)[0]);g[j]=c+g[j].trim()+e}i.value=i.value.substr(0,C)+g.join("\n")+i.value.substr(s);i.setSelectionRange(f,f);i.focus();i.scrollTop=h}:(C.onmouseover=function(){Ja=Cb()},C.onclick=function(a){var b=i.selectionStart,c=i.selectionEnd;x(a);Ma(i,"> "+(b===c?Ja:i.value.substring(b,c)).replace(/\n/gm,"\n> "))}),m("de-txt-panel").appendChild(C));C.innerHTML=2===f.addTextBtns?("B"===s?"[ ":"")+'<a href="#">'+s+"</a>"+("&gt;"!==s?" / ":" ]"):3===f.addTextBtns?'<input type="button" value="'+
s+'" style="font-weight: bold;" />':"";return c};L(f.txtBtnsLoc?m("de-txt-resizer")||g.txta:d._420?v("popup",g.form):g.subm,W(m("de-txt-panel")||q("span",{id:"de-txt-panel"},null),{lang:!f.addTextBtns?"en":!f.txtBtnsLoc?"ru":""}));c("bold")("italic");d._420||c("under")("strike");c("spoil")("code")("quote")}}function Wb(a){var b,c=a.querySelector(d.qRef),e='<span class="de-ppanel'+(a.isOp?"-op":"")+' de-ppanel-cnt" info="'+a.num+'"><span class="de-btn-hide" onclick="de_hideClick(this)" onmouseover="de_hideOver(this)" onmouseout="de_btnOut(event)"></span>'+
(g.qButton||ea?'<span class="de-btn-rep" onclick="de_qReplyClick(this)" onmouseover="de_qReplyOver(this)"></span>':"");a.isOp&&(b=d.host,p||(e+='<span class="de-btn-expthr" onclick="de_expandClick(this)" onmouseover="de_expandOver(this)" onmouseout="de_btnOut(event)"></span>'),F[b]&&F[b][u]&&F[b][u][a.num]?(e+='<span class="de-btn-fav-sel" onclick="de_favorClick(this)"></span>',F[b][u][a.num].cnt=a.thr.pCount+1):e+='<span class="de-btn-fav" onclick="de_favorClick(this)"></span>');h.insAfter(c,e+(a.sage?
'<span class="de-btn-sage" title="SAGE" onclick="de_sageClick(this)"></span>':"")+"</span>");a.btns=c.nextSibling;g.on&&f.insertNum&&((d.nul||p&&(d.kus||d.tinyIb))&&A(c.getElementsByTagName("a"),function(a){a.onclick=null}),d.brit||(c.onclick=Fd))}function sa(a,b,c,e,i){sa.checkPattern(a)?this.disabled=!0:(this.regex=a.replace(/(?:[sihdny]\?){2,}/g,function(a){return"(?:"+a.replace(/\?/g,"")+")?"}).replace(/\-/g,"[^<]").replace(/\+/g,"[^0-9]").replace(/([sihdny]+)/g,"($1)").replace(/[sihdny]/g,"\\d").replace(/m|w/g,
"([a-zA-Z\u0430-\u044f\u0410-\u042f]+)"),this.pattern=a.replace(/[\?\-\+]+/g,"").replace(/([a-z])\1+/g,"$1"),this.diff=parseInt(b,10),this.arrW=j.week[c],this.arrM=j.month[c],this.arrFM=j.fullMonth[c],e&&(i&&Gb(e)===+i)&&(this.inited=!0,this.rPattern=e.substring(1),this.fullM=!!+e[0]))}function Tc(a,b,c){var e=' width="'+f.YTubeWidth+'" height="'+f.YTubeHeigh+'" />';a.innerHTML=1===f.YTubeType?'<iframe type="text/html" src="https://www.youtube.com/embed/'+b+(f.YTubeHD?"?hd=1&":"?")+"start="+c+'&html5=1" frameborder="0"'+
e:'<embed type="application/x-shockwave-flash" src="https://www.youtube.com/v/'+b+(f.YTubeHD?"?hd=1&":"?")+"start="+c+'" wmode="transparent"'+e}function Xb(a,b){var c=b[1],e=(b[2]?3600*b[2]:0)+(b[3]?60*b[3]:0)+(b[4]?+b[4]:0);if(2!==f.YTubeType)Tc(a,c,e);else{var i=function(b){(b=b?!f.YTubeHD?b[43]:b[45]||b[44]||b[43]:!1)?(a.innerHTML='<video poster="https://i.ytimg.com/vi/'+c+'/0.jpg" controls="controls" preload="none" src="'+b+(h.Firefox&&14>h.Firefox?"&"+Math.random():"")+'" width="'+f.YTubeWidth+
'" height="'+f.YTubeHeigh+'"></video>',0!==e&&(a.firstChild.onloadedmetadata=function(){this.currentTime=e;e=null})):Tc(a,c,e)};GM_xmlhttpRequest({method:"GET",url:"https://www.youtube.com/watch?v="+c,onload:function(a){var b,c,e,d,f=[];b="%2C";var h="%26",g="%3D";if(c=a.responseText.match(/\"url_encoded_fmt_stream_map\":\s*\"([^\"]+)\"/)){c=c[1];c.contains(",")&&(b=",",h=c.contains("&")?"&":"\\u0026",g="=");a=0;b=c.split(b);for(c=b.length;a<c;a++)e=b[a].split(h),5>e.length||(d=e[0].split(g),2>d.length||
(d=unescape(unescape(d[1])).replace(/\\\//g,"/").replace(/\\u0026/g,"&"),e=e[4].split(g),2>e.length||0===d.toLowerCase().indexOf("http")&&(f[e[1]]=d)));i(f)}else i(!1);i=null}})}}function Yb(a,b){a.innerHTML='<a href="https://www.youtube.com/watch?v='+b[1]+'" target="_blank"><img src="https://i.ytimg.com/vi/'+b[1]+'/0.jpg" width="360" height="270" /></a>';3===f.addYouTube&&(a.firstChild.onclick=function(a){x(a);Xb(this.parentNode,b)})}function Ya(){return/^https?:\/\/(?:www\.)?youtu(?:be\.com\/(?:watch\?.*?v=|v\/|embed\/)|\.be\/)([^&#?]+).*?(?:t(?:ime)?=(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?)?$/}
function Uc(a){var b=this.href.match(Ya()),c=v("de-ytube-obj",ca(this));x(a);ja('*[contains(@src,"'+b[1]+'")]|video[contains(@poster,"'+b[1]+'")]',c)?c.innerHTML="":2<f.addYouTube&&!ja('a[contains(@href,"'+b[1]+'")]',c)?Yb(c,b):Xb(c,b)}function ob(a){f.addYouTube&&(A((a||z).querySelectorAll("embed"),function(b){var c,e;if(e=b.src.match(Ya())){c="https://www.youtube.com/watch?v="+e[1];if(e[4]||e[3]||e[2])c+="#t="+(e[2]?e[2]+"h":"")+(e[3]?e[3]+"m":"")+(e[4]?e[4]+"s":"");e=a||ca(b);(e.msg||e.querySelector(d.qMsg)).appendChild(B('<p class="de-ytube-ext"><a href="'+
c+'">'+c+"</a></p>"));w(b.parentNode)}}),A((a||z).querySelectorAll('a[href*="youtu"]'),function(b){var c,e,i,C,s=b.href.match(Ya());s&&(b.href=b.href.replace(/^http:/,"https:"),c=a||ca(b),v("de-ytube-obj",c)||(e=q("div",{"class":"de-ytube-obj"},null),2<f.addYouTube?Yb(e,s):2===f.addYouTube&&Xb(e,s),i=c.msg||c.querySelector(d.qMsg),d.krau?(i=i.parentNode,C=i.previousElementSibling,ba(C.hasAttribute("style")?C:i,e)):ba(i,e)),b.className="de-ytube-link",b.onclick=Uc,h.Opera&&12>h.Opera||!f.YTubeTitles?
b.textContent=b.textContent.replace(/^http:/,"https:"):GM_xmlhttpRequest({method:"GET",url:"https://gdata.youtube.com/feeds/api/videos/"+s[1]+"?alt=json&fields=title/text(),media:group/media:keywords",onload:function(a){try{var e=JSON.parse(a.responseText).entry.title.$t;b.textContent=e;if(f.hideBySpell)for(var i,a=0;i=U.video[a];a++)if(ua(i).test(e)){$a(c,"#video "+i);c.ytHide=!0;clearTimeout(Vc);Vc=setTimeout(Fa,500);return}b=c=null}catch(d){}}}))}))}function Wc(){f.YTubeTitles&&A(z.querySelectorAll('a[href*="youtu"]'),
function(a){for(var b,c=0,e=a.textContent;b=U.video[c++];)if(ua(b).test(e)){a=ca(a);$a(a,"#video "+b);a.ytHide=!0;break}})}function pb(a){f.addMP3&&A((a||z).querySelectorAll('a[href*=".mp3"]'),function(b){if("_blank"===b.target||"nofollow"===b.rel){var c=a||ca(b),e=v("de-mp3",c);e||(e=q("div",{"class":"de-mp3"},null),ba(c.msg||c.querySelector(d.qMsg),e));ja('.//object[contains(@FlashVars,"'+b.href+'")]',e)||(e.innerHTML+='<object data="//junglebook2007.narod.ru/audio/player.swf" type="application/x-shockwave-flash" wmode="transparent" width="220" height="16" FlashVars="playerID=1&amp;bg=0x808080&amp;leftbg=0xB3B3B3&amp;lefticon=0x000000&amp;rightbg=0x808080&amp;rightbghover=0x999999&amp;rightcon=0x000000&amp;righticonhover=0xffffff&amp;text=0xffffff&amp;slider=0x222222&amp;track=0xf5f5dc&amp;border=0x666666&amp;loader=0x7fc7ff&amp;loop=yes&amp;autostart=no&amp;soundFile='+
b.href+'" /><br>')}})}function Gd(a){var b=a.clientX,c=a.clientY,e=parseInt(this.style.left,10),i=parseInt(this.style.top,10),d=parseFloat(this.style.width||this.width),f=parseFloat(this.style.height||this.height),g=h.Firefox?-a.detail:a.wheelDelta,t=d*(0<g?1.25:0.8),g=f*(0<g?1.25:0.8);x(a);this.style.width=t+"px";this.style.height=g+"px";this.style.left=parseInt(b-t/d*(b-e),10)+"px";this.style.top=parseInt(c-g/f*(c-i),10)+"px"}function Xc(a,b,c){var e="",i="",d=+b[0],b=+b[1],s=l.body.clientWidth,
g=window.innerHeight,t=v("de-img-full",a);if(!(t&&c||!t&&!1===c))if(1===f.expandImgs&&!ja('img[contains(@style,"fixed")]',a)&&I(P("img",a)),t)t.moved?t.moved=!1:(I(t),setTimeout(w,0,t));else if(1===f.expandImgs?s-=ma(a).left+25:w(v("de-img-center",l)),d&&b&&(e=d<s?d:s,i=e*b/d,2===f.expandImgs&&i>g&&(i=g,e=i*d/b)),t=a.appendChild(B('<img class="de-img-full" src="'+a.href+'" alt="'+a.href+'" width="'+e+'" height="'+i+'"/>')),2===f.expandImgs){h.addClass(t,"de-img-center");t.style.cssText="left: "+(s-
e)/2+"px; top: "+(g-i)/2+"px;";t.addEventListener(h.Firefox?"DOMMouseScroll":"mousewheel",Gd,!1);var j=t,k=function(a){j.style.left=a.clientX-j.curX+"px";j.style.top=a.clientY-j.curY+"px";j.moved=!0},H=function(){zb(l.body,{mousemove:k,mouseup:H})};j.onmousedown=function(a){x(a);j.curX=a.clientX-parseInt(j.style.left,10);j.curY=a.clientY-parseInt(j.style.top,10);S(l.body,{mousemove:k,mouseup:H})}}}function Yc(a){a.onclick=function(a){f.expandImgs&&1!==a.button&&(x(a),Xc(this,this.firstChild.title.split("x"),
null))}}function qb(a){if(f.addImgs)for(var b,c=0,e=a.querySelectorAll(d.qMsg+' a[href*=".jpg"], '+d.qMsg+' a[href*=".png"], '+d.qMsg+' a[href*=".gif"]'),i=e.length;c<i;c++){b=e[c];if("SMALL"===b.parentNode.tagName)break;a=b.cloneNode(!1);a.target="_blank";I(a);a.appendChild(q("img",{"class":"de-img-pre",src:a.href,alt:a.href},{load:function(){var a,b;I(this.parentNode);a=this.width;b=this.height;this.title=a+"x"+b;200>=a&&200>=b||(a/=b,this.width=1>a?200*a:200,this.height=1>a?200:200/a)}}));Yc(a);
ba(b,a)}}function rb(a){if(f.imgSrcBtns)for(var b=a.num||"",a=a.querySelectorAll(d.qImgLink),c=a.length-1,e;0<=c;c--)e=a[c],/google\.|tineye\.com|iqdb\.org/.test(e.href)?w(e):e.firstElementChild||h.insBefore(e,'<span de-id="'+b+c+'" class="de-btn-src" onmouseover="de_imgSOver(this)" onmouseout="de_btnOut(event)"></span>')}function Zc(a,b){/\.jpe?g|\.png|.\gif|^blob:/i.test(a.href)&&Xc(a,Fb(d.getPicWrap(a)),b)}function Mb(a,b){A(a.img,function(a){Zc(V("ancestor::a[1]",a),b)})}function sb(a){A(a.img,
function(a){var c=V("ancestor::a[1]",a);c&&(a.onclick=null,d.dfwk&&(a.parentNode.onclick=null),c.onclick=function(a){1!==a.button&&(x(a),Zc(this,null))})})}function Hd(a){var b,c,e;b=new XMLHttpRequest;b.open("GET",a.data,!1);b.responseType="arraybuffer";b.send();a=new Uint8Array(b.response);e=a.length;if(255===a[0]&&216===a[1])for(c=b=0;b<e-1;b++){if(255===a[b])if(216===a[b+1])c++;else if(217===a[b+1]&&0===--c){b+=2;break}}else if(137===a[0]&&80===a[1])for(b=0;b<e-7;b++){if(73===a[b]&&69===a[b+1]&&
78===a[b+2]&&68===a[b+3]){b+=8;break}}else{self.postMessage(!1,null);return}if(b!==e&&60<e-b)for(e=b+50;b<e;b++)if(55===a[b]&&122===a[b+1]||80===a[b]&&75===a[b+1]||82===a[b]&&97===a[b+1]){self.postMessage(!0,null);return}self.postMessage(!1,null)}function $c(a){var b='<div class="de-refmap">'+a.ref.join(", ").replace(/(\d+)/g,'<a href="#$1">&gt;&gt;$1</a>')+"</div>";try{h.insAfter(a.msg,b)}catch(c){a.appendChild(B(b))}}function Zb(a){var b=[];h.forEach(a,function(c){for(var e,d,f=this[c].msg.getElementsByTagName("a"),
s=f.length-1;0<=s;s--)if((e=f[s].textContent.match(/^>>(\d+)$/))&&(d=a[e[1]]))d.ref?-1===d.ref.indexOf(c)&&d.ref.push(c):(d.ref=[c],b.push(d))});b.forEach($c);b=a=null}function tb(a){if(a){a.parent?a.parent.kid=null:R.top=null;do{clearTimeout(a.readDelay);var b=a;f.animation?(h.animEvent(b,w),h.addClass(b,"de-pview-anim"),b.style[h.animName]="de-post-close-"+(b.aTop?"t":"b")+(b.aLeft?"l":"r")):w(b)}while(a=a.kid)}}function Wa(a,b){a&&(clearTimeout(R.outDelay),R.outDelay=setTimeout(tb,f.linksOut,b?
a:a.kid))}function $b(){this.style[h.animName]&&(h.remClass(this,"de-pview-anim"),this.style.cssText=this.newPos,this.newPos=!1,A(aa("de-css-move",l.head),w),this.removeEventListener(h.animEnd,$b,!1))}function ad(a,b,c){if(b.link!==a){b.link=a;var e,d;e=a.getBoundingClientRect();d=e.left+window.pageXOffset+a.offsetWidth/2;var C=e.top+window.pageYOffset,s=l.body.clientWidth,g=d<s/2,s=(g?s-d:d)-10,j="max-width:"+s+"px; left:"+(g?d:d-Math.min(parseInt(b.offsetWidth,10),s))+"px;";c?(s=b.style.cssText,
b.style.cssText="opacity: 0; "+j):b.style.cssText=j;d=b.offsetHeight;e=d+e.top+a.offsetHeight<window.innerHeight||5>e.top-d;d=(e?C+a.offsetHeight:C-d)+"px";b.aLeft=g;b.aTop=e;!f.animation||!c?b.style.top=d:(a="de-movecss-"+Math.round(1E3*Math.random()),l.head.appendChild(q("style",{"class":"de-css-move",type:"text/css",text:"@"+h.cssFix+"keyframes "+a+" {to { "+j+" top:"+d+"; }}"},null)),b.newPos?(b.style.cssText=b.newPos,b.removeEventListener(h.animEnd,$b,!1)):b.style.cssText=s,b.newPos=j+" top:"+
d+";",b.addEventListener(h.animEnd,$b,!1),h.addClass(b,"de-pview-anim"),b.style[h.animName]=a)}}function bd(a,b){(v("de-pview-link",a)||{}).className="";(V('.//a[starts-with(text(),">>") and contains(text(),"'+b+'")]',a)||{}).className="de-pview-link"}function ub(a,b,c,e,i){clearTimeout(R.outDelay);var C;a?(i=(C=a.ownerDocument===l)?a.cloneNode(!0):Ka(l.importNode(a,!0)),i.setAttribute("de-post",null),i.className=d.cReply+" de-pview"+(a.viewed?" de-viewed":""),i.style.display="",d._7ch&&(i.firstElementChild.style.cssText=
"max-width: 100%; margin: 0;",w(v("doubledash",i))),i.num=b,A(i.querySelectorAll(".de-img-full, .de-ppanel, .de-ppanel-op"),w),C?(f.addYouTube&&(A(aa("de-ytube-link",i),function(a){a.onclick=Uc}),3===f.addYouTube&&A(aa("de-ytube-obj",i),function(a){Yb(a,a.firstChild.href.match(Ya()))})),f.addImgs&&A(aa("de-img-pre",i),function(a){Yc(a.parentNode)}),f.imgSrcBtns&&A(aa("de-btn-src",i),function(a){a.setAttribute("de-id","pv"+a.getAttribute("de-id"))})):(pb(i),ob(i),qb(i),rb(i)),A(i.img=Da(i),function(a){a.style.display=
""}),f.expandImgs&&sb(i),2===f.linksNavig&&bd(i,c.num),ab(i),f.markViewed&&(i.readDelay=setTimeout(function(a,b){a.viewed||(h.addClass(a,"de-viewed"),a.viewed=!0);var c=(sessionStorage["de-viewed"]||"").split(",");c.push(b);sessionStorage["de-viewed"]=c},2E3,a,b))):(i||(R.deleted[b]=!0),i=B('<div class="'+d.cReply+' de-pview-info de-pview">'+(i||j.postNotFound[k])+"</div>"));z.appendChild(i);ad(e,i,!1);i.onmouseover=function(){Wa(this,!1)};i.onmouseout=function(){Wa(R.top,!0)};i.pView=!0;R.top&&c.pView?
(tb(c.kid),i.parent=c,c.kid=i):(tb(R.top),R.top=i);f.animation&&(h.animEvent(i,function(a){h.remClass(a,"de-pview-anim");a.style[h.animName]=""}),h.addClass(i,"de-pview-anim"),i.style[h.animName]="de-post-open-"+(i.aTop?"t":"b")+(i.aLeft?"l":"r"));return i}function cd(a,b,c){if(!R.ajaxed[a])return null;var e=R.ajaxed[a][b];if(a===u||!e||e.aRep)return e;b=fb(a)+d.res+c+(d.tire?".html":hb);a=e.getElementsByTagName("a");for(c=a.length-1;0<=c;c--)/^>>\d+$/.test(a[c].textContent)&&(a[c].href=b);e.aRep=
!0;return e}function Id(a){var b=a.pathname.match(d.rePviewBrd)[1],c=(a.pathname.match(/[^\/]+\/[^\d]*(\d+)/)||[,0])[1],e=(a.textContent.match(/\d+$/)||[c])[0],i=G[e]||cd(b,e,c),C=ca(a),s=C.pView?C.kid:R.top;if(!f.noNavigHidd||!i||!i.hide)R.deleted[e]?ub(null,e,C,a,j.postNotFound[k]):s&&s.num===e?(Wa(s,!1),tb(s.kid),ad(a,s,!0),bd(s,C.num)):i?ub(i,e,C,a,null):(s=ub(null,e,C,a,'<span class="de-wait">'+j.loading[k]+"</span>"),R.ajaxed[b]=[],pa(null,b,c,!0,function(i,f,g){if(!g){var h=0,j=i.length;f.isOp=
!0;f.msg=f.querySelector(d.qMsg);for(R.ajaxed[b][c]=f;h<j;h++)f=i[h],f.msg=f.querySelector(d.qMsg),R.ajaxed[b][d.getPNum(f)]=f;Zb(R.ajaxed[b]);s&&s.parentNode&&ub(cd(b,e,c),e,C,a,g)}b=e=c=C=s=null}))}function Jd(){2<this.textContent.length&&(this.overDelay=setTimeout(Id,f.linksOver,this))}function Kd(){clearTimeout(this.overDelay);Wa(R.top,!0)}function ab(a){if(f.linksNavig)for(var b=l.evaluate('.//a[starts-with(text(),">>")]',a,null,4,null);a=b.iterateNext();)a.onmouseover=Jd,a.onmouseout=Kd}function pa(a,
b,c,e,i){GM_xmlhttpRequest({method:"GET",url:h.fixLink(a||fb(b)+d.res+c+(d.tire?".html":hb)),onreadystatechange:function(a){if(4===a.readyState){if(200===a.status){var b=h.toDOM(a.responseText);!g.on&&ea&&(g=dd(l.importNode(b.querySelector(d.qPostForm),!0)),ba(ea,g.form));e?ed(b.querySelector(d.qDForm),b,function(a){i(d.getPosts(a),d.getOp(a,b),null)}):i(null,b,null)}else i(null,null,0===a.status?j.noConnect[k]:"HTTP ["+a.status+"] "+a.statusText);i=e=b=null}}})}function fd(a,b){GM_xmlhttpRequest({method:"GET",
url:h.fixLink(a),onreadystatechange:function(a){if(4===a.readyState)if(304===a.status)qa(m("de-alert-newposts"));else{try{b(a.status,a.statusText,JSON.parse(a.responseText))}catch(e){b(1,e.toString(),null)}b=null}}})}function gd(a){f.expandImgs&&sb(a);a.hide||hd(a);var b,c,e=[];c=a.msg.getElementsByTagName("a");for(var d=c.length-1;0<=d;d--)(b=c[d].textContent.match(/^>>(\d+)$/))&&-1===e.indexOf(b=b[1])&&e.push(b);b=a.num;for(d=e.length-1;0<=d;d--)if(c=G[e[d]])c.ref?-1===c.ref.indexOf(b)&&c.ref.push(b):
c.ref=[b],w(v("de-refmap",c)),$c(c),ab(v("de-refmap",c)),f.hideRefPsts&&c.hide&&$a(a,"reference to >>"+e[d]);ab(a);pb(a);ob(a);qb(a);Ta&&Mb(a,null)}function vb(a,b,c,e){var i;ac(b,c,a,e);Wb(b);f.expandPosts&&!p&&bc(b);gd(b);rb(b);bb&&0!==e?(e=bb.cloneNode(!0),(i=d.getPosts(e)[0])?i.parentNode.replaceChild(b,i):e=b):e=b;a.appendChild(e);f.preLoadImgs&&window.postMessage("K"+c,"*");d.tiny&&a.appendChild(l.createElement("br"));return+!b.hide}function id(a){d.rep&&(a.innerHTML=cc(a.innerHTML),a.img=Da(a));
A(a.querySelectorAll(".de-ytube-obj"),w);gd(a)}function jd(a,b){var c=ca(a),e=function(b,e){if(c.num===e){w(a);var f=c.msg.querySelector(".de-ytube-ext");c.msg.parentNode.replaceChild(l.importNode(b.querySelector(d.qMsg),!0),c.msg);c.msg=c.querySelector(d.qMsg);f&&c.msg.appendChild(f);id(c);a=c=null;throw null;}};d.hana?(w(a.nextSibling),w(a.previousSibling),w(a),c.msg.replaceChild(c.querySelector(".alternate > div"),c.msg.firstElementChild),b&&id(c)):pa(null,u,c.thr.num,!0,function(b,f,g){if(!g)try{e(f,
d.getTNum(f)),A(b,function(a){e(a,d.getPNum(a))})}catch(h){}a=c=null})}function bc(a){if(!a.hide&&(a=a.querySelector(d.krau?'p[id^="post_truncated"]':d.hana?".abbrev > span":".abbrev, .abbr, .omittedposts, .shortened"))&&/long|full comment|gek\u00fcrzt|\u0441\u043b\u0438\u0448\u043a\u043e\u043c|\u0434\u043b\u0438\u043d\u043d|\u043c\u043d\u043e\u0433|\u043f\u043e\u043b\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f/i.test(a.textContent))1===f.expandPosts?jd(a,!1):P("a",a).onclick=function(a){x(a);
jd(this,!0)}}function Za(a,b,c){c||J(j.loading[k],"load-thr",!0);pa(null,u,a.num,!0,function(e,i,f){var g,D,t=a.thr,p=e.length;if(f)J(f,"load-thr",!1);else{Aa();w(m("de-select"));D=t.visPCnt||t.pCount-lc(t)+1;t.innerHTML="";(f=Ka(l.importNode(i,!0))).isOp=!0;vb(t,f,d.getTNum(i),0);f.tTitle=(v(d.cTitle,f)||{}).textContent||va(f).substring(0,70).replace(/\s+/g," ");ia[ia.indexOf(a)]=f;h.insAfter(f.btns,'<span>&nbsp;[<a href="'+na(d.host,u,f.num)+'">'+j.reply[k]+"</a>]</span>");1===b||b>=p?i=0:(i=p-
b,t.visPCnt=b+1,t.appendChild(q("div",{"class":"de-omitted",text:j.postsOmitted[k]+i},null)));for(g=[f];i<p;i++)vb(t,f=Ka(l.importNode(e[i],!0)),d.getPNum(e[i]),i+1),g.push(f);if(5<b||1===b)t.appendChild(B('<span>[<a href="#">'+j.collapseThrd[k]+"</a>]</span>")).onclick=function(b){x(b);Za(a,5,null);a=null};Ca.splice.apply(y,[y.indexOf(a),D].concat(g));t.pCount=p+1;qa(m("de-alert-load-thr"))}Bb(a);c&&c();b=c=null})}function zd(){var a=this.parentNode.parentNode,b=P("iframe",a),c=a.getAttribute("info").split(";")[2],
e=v("de-content",l);w(m("de-fav-wait"));b?(w(b),e.style.overflowY="auto"):(c=G[c])&&!c.hide?Bb(c):(w(m("de-iframe-fav")),v("de-content",l).style.overflowY="scroll",ha(a,[B('<iframe name="de-iframe-fav" id="de-iframe-fav" src="'+P("a",a).href+'" scrolling="no" style="border: none; width: '+(l.body.clientWidth-55)+'px; height: 1px;" />'),B('<div id="de-fav-wait" class="de-wait" style="font-size: 1.1em; text-align: center">'+j.loading[k]+"</div>")]))}function Dc(a,b,c){pa(gb(d.host,u,b),null,null,!1,
function(e,i){for(var f,e=l.importNode(i.querySelector(d.qDForm),!0);f=e.firstChild;)a.appendChild(f);c(Ka(a),b);c=a=b=null})}function wc(a){J(j.loading[k],"load-pages",!0);f.preLoadImgs&&A(z.querySelectorAll('a[href^="blob:"]'),function(a){window.URL.revokeObjectURL(a.href)});var b=-1,c=z,e=Array(a),d=1;z.innerHTML="";y=[];for(R.ajaxed={};++b<a;)1<a&&(c=q("div",{id:"de-page"+b},null),ha(z,[q("center",{text:b+" "+j.page[k],style:"font-size: 2em;"},null),l.createElement("hr"),c])),Dc(c,b,function(b,
c){e[c]=b;d===a?(e.forEach(function(a){kd(a);ld(a)}),y.forEach(Wb),y.forEach(sb),y.forEach(bc),pb(null),ob(null),qb(z),rb(z),Zb(G),ab(z),qc(),md(),Ta&&y.forEach(function(a){Mb(a,null)}),qa(m("de-alert-load-pages")),window.postMessage("Kall","*"),d=e=null):d++})}function lb(a){p&&3!==f.updThread&&(l.querySelector('a[id^="de-btn-upd"]').id="de-btn-upd-"+a)}function zc(){$.el||($.el=q("audio",{preload:"auto",src:"https://raw.github.com/SthephanShinkufag/Dollchan-Extension-Tools/master/signal.ogg"},null));
$.enabled=!$.enabled}function nd(){X.focused?$.running=!1:($.el.play(),setTimeout(nd,$.repeat),$.running=!0)}function ta(a,b){if(a)a!==j.noConnect[k]?(J(j.thrNotFound[k]+p+"): \n"+a,"newposts",!1),l.title="{"+a.match(/(?:\[)(\d+)(?:\])/)[1]+"} "+l.title,lb("off"),clearInterval(za),za=void 0):(J(j.noConnect[k],"newposts",!1),lb("warn"));else if(qa(m("de-alert-newposts")),3!==f.updThread){lb("on");if(1===f.updThread){if(X.focused)return;b+=+(l.title.match(/^\[(\d+)\]/)||[,0])[1]}f.favIcoBlink&&X.href&&
(clearInterval(X.delay),0<b&&(X.delay=setInterval(function(){var a=ja('.//link[@href="'+X.href+'"]',l.head)?"data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAAF0lEQVRIx2NgGAWjYBSMglEwCkbBSAcACBAAAeaR9cIAAAAASUVORK5CYII=":X.href;A(l.head.querySelectorAll('link[rel="shortcut icon"]'),w);l.head.appendChild(q("link",{href:a,rel:"shortcut icon"},null))},800)));l.title=(0<b?" ["+b+"] ":"")+La;if(h.WebKit&&f.desktNotif&&0<b){var c=
b;if(0===window.webkitNotifications.checkPermission()){var e=window.webkitNotifications.createNotification("/favicon.ico",La,j.unreadMsg[k].replace(/%m/g,c));e.ondisplay=function(){setTimeout(function(){e.cancel();e=null},8E3)};e.onclick=function(){window.focus&&window.focus();this.cancel()};e.show()}}$.enabled&&(!$.running&&0<b)&&($.repeat?nd():$.el.play())}}function Ld(a,b){var c,e=a.src,d=a.thumb,f=a.thumb_width,g=a.thumb_height,h=a.size,j=a.rating;a:{for(var k=l.cookie.split("; "),p=k.length;p--;)if(c=
k[p].split("="),c[0]===escape("de-rating")){c=unescape(c[1]);break a}c=!1}k=c||"r-15";"b"===u||"rf"===u?c=d.substring(d.lastIndexOf("/")+1):(c=e.substring(e.lastIndexOf("/")+1),17<c.length&&(c=c.substring(0,17)+"..."));d="r-18g"===j&&"r-18g"!==k?"images/r-18g.png":"r-18"===j&&("r-18g"!==k||"r-18"!==k)?"images/r-18.png":"r-15"===j&&"sfw"===k?"images/r-15.png":"illegal"===j?"images/illegal.png":a.thumb;d!==a.thumb&&(g=f=200);return B('<div class="file"><div class="fileinfo">\u0424\u0430\u0439\u043b: <a href="/'+
e+'" target="_blank">'+c+"</a><br /><em>"+a.thumb.substring(a.thumb.lastIndexOf(".")+1)+", "+(1024>h?h+" B":1048576>h?(h/1024).toFixed(2)+" KB":1073741824>h?(h/1048576).toFixed(2)+" MB":(h/1073741824).toFixed(2)+" GB")+", "+a.metadata.width+"x"+a.metadata.height+'</em><br /><a class="edit_ icon" href="/utils/image/edit/'+a.file_id+"/"+b+'"><img title="edit" alt="edit" src="/images/blank.png" /></a></div><a href="/'+e+'" target="_blank"><img class="thumb" src="/'+d+'" width="'+f+'" height="'+g+'" /></a></div>')}
function od(a,b){if(d.qBan&&!a.isBan){var c=b.querySelector(d.qBan);c&&(a.querySelector(d.qBan)||a.msg.appendChild(l.importNode(c,!0)),a.isBan=!0)}}function pd(a){if(!a.deleted){var b=sessionStorage["de-deleted"];sessionStorage["de-deleted"]=(b?b+",":"")+a.count;a.deleted=!0;h.remClass(a.btns,"de-ppanel-cnt");h.addClass(a.btns,"de-ppanel-del")}}function nb(a,b){a&&J(j.loading[k],"newposts",!0);d.hana?fd("//dobrochan.ru/api/thread/"+u+"/"+p+"/new.json?message_html&new_format&last_post="+y[y.length-
1].num,function(a,e,i){if(200!==a||i.error)ta(0===a?j.noConnect[k]:e||i.message,null);else{var f,a=0,g=(i.result||{}).posts,h=v("de-thread",z);if(g&&0<g.length){i=0;for(e=g.length;i<e;i++){f=g[i];var t=void 0,t=f.display_id,l=f.files,m=l.length,H=q("td",{id:"reply"+t,"class":"reply","de-post":t},null);H.innerHTML='<a name="i'+t+'"></a><label><a class="delete icon"><input type="checkbox" id="delbox_'+t+'" class="delete_checkbox" value="'+f.post_id+'" id="'+t+'" /></a><span class="postername">'+f.name+
"</span> "+d.hDTFix.fix(f.date)+' </label><span class="reflink"><a onclick="Highlight(0, '+t+')" href="/'+u+"/res/"+p+".xhtml#i"+t+'">No.'+t+"</a></span><br />";for(t=0;t<m;t++)H.appendChild(Ld(l[t],f.post_id));ha(H,[E(1<m,q("div",{style:"clear: both;"},null)),B('<div class="postbody">'+f.message_html+"</div>"),q("div",{"class":"abbrev"},null)]);f=Ka(H);a+=vb(h,f,g[i].display_id,h.pCount+i);y.push(f)}h.pCount+=g.length}ta(null,a)}b&&b();b=null}):pa(null,u,p,!0,function(a,e,i){if(i)ta(i,null);else{var f,
g,h,j,k=0,p=y.length,H=a.length,n=v("de-thread",z);od(y[0],e);e=1;for(f=0;e<p||f<H;e++,f++)g=y[e],(h=a[f])?(j=d.getPNum(h),g?g.num!==j?(pd(g),f--):od(g,h):(k+=vb(n,g=Ka(l.importNode(h,!0)),j,e),y.push(g))):pd(g);ta(i,k);n.pCount=p;Fa();m("de-panel-info").firstChild.textContent=e+"/"+Da(z).length}b&&b();b=null})}function yc(){1===f.updThread?za=setInterval(function(){nb(!1,null)},1E3*f.updThrDelay):2===f.updThread&&(za=setInterval(function(){d.hana?fd("//dobrochan.ru/api/thread/"+u+"/"+p+".json?new_format",
function(a,b,c){200!==a||c.error?ta(0===a?j.noConnect[k]:b||c.message,null):ta(null,c.result.posts_count-y.length)}):pa(null,u,p,!0,function(a,b,c){ta(c,a.length-y.length+1)})},1E3*f.updThrDelay))}function cb(a){f.hideRefPsts&&a.ref&&(a.ref.forEach(function(b){var c=G[b];c&&!O[b]&&(xa(c,!0,"reference to >>"+a.num),cb(c))}),a=null)}function dc(a){f.hideRefPsts&&a.ref&&a.ref.forEach(function(a){var c=G[a];c&&!O[a]&&(0!==Z[c.count]&&xa(c,!1,null),dc(c))})}function hd(a){if(!f.filterThrds&&a.isOp)Z[a.count]=
1;else{var b=ec(va(a))||f.hideBySpell&&wb(a);b?(Z[a.count]=0,xa(a,!0,b),cb(a)):Z[a.count]=1}}function md(){for(var a,b,c,e=y.length-1;0<=e;e--)c=Z[e],a=y[e],O[b=a.num]?(a.isOp&&!(K[u]&&void 0!==K[u][b])?(delete O[b],N("DESU_Posts_"+d.dm+"_"+u,JSON.stringify(O))):0===O[b][0]?Ia(a,!0):a.btns.firstChild.className="de-btn-lock",void 0===c&&(Z[e]=ec(va(a))||f.hideBySpell&&wb(a)?0:1)):(a.isOp&&(K[u]&&void 0!==K[u][b]?Z[e]=c="0":"0"===c&&(c=null)),"0"===c?(xa(a,!0,null),cb(a)):"1"!==c&&hd(a))}function Va(a,
b){b?h.addClass(a,"de-post-hid"):h.remClass(a,"de-post-hid")}function fc(a,b){b&&a.btns.appendChild(q("a",{"class":"de-post-note de-abtn",text:" autohide: "+b+" ",href:"#"},{click:function(a){x(a);w(this)}}))}function xa(a,b,c){var e,i,g=a.thr;Va(a,a.hide=b);a.isOp?(g.style.display=b?"none":"",g.hide=b,e=m("de-thr-hid-"+(i=a.num)),!b&&e&&(w(e),sc(a,1)),b&&!e&&(e=B('<div class="'+d.cReply+' de-thr-hid" id="de-thr-hid-'+i+'">'+j.hiddenThrd[k]+' <a href="#">\u2116'+i+"</a><i> ("+(c?"autohide: "+c:a.tTitle.replace(/</g,
"&lt;").replace(/>/g,"&gt;"))+")</i></div>"),P("a",e).onclick=function(b){x(b);Ia(a,!a.hide);Ra()},ba(g,e),sc(a,0))):(f.delHiddPost?d.getWrap(a).style.display=b?"none":"":((e=v("de-post-note",a))?b?c&&(e.innerText=" autohide: "+c+" "):w(e):b&&fc(a,c),e=a.querySelector(d.qRef),e.onmouseover=b&&function(){Va(ca(this),!1)},e.onmouseout=b&&function(){Va(ca(this),!0)}),f.strikeHidd&&setTimeout(A,0,z.querySelectorAll('a[href*="#'+a.num+'"]'),function(a){a.className=b&&"de-ref-hid"}))}function $a(a,b){!a.noHide&&
!O[a.num]&&(a.hide?(w(v("de-post-note",a)),fc(a,b)):(Z[a.count]=0,xa(a,!0,b),cb(a)))}function gc(a){if(!O[a.num]){var b=ec(va(a));b?$a(a,b):(Z[a.count]=1,xa(a,!1,null),dc(a),w(v("de-post-note",a)))}}function Ia(a,b){var c=a.num;xa(a,b,null);a.btns.firstChild.className="de-btn-lock";b?cb(a):dc(a);O[c]||(O[c]=Array(2));O[c][0]=+!b;O[c][1]=Date.now()}function qd(a){return a.replace(/\s+/g," ").replace(/[^a-z\u0430-\u044f\u0451 ]/ig,"").substring(0,800).split(" ")}function rd(a){var b,c,e=a.img[0];if(e.hash)return e.hash;
c=m("de-canvas")||l.body.appendChild(q("canvas",{id:"de-canvas",style:"display: none;"},null));a=c.width=e.width;b=c.height=e.height;c=c.getContext("2d");c.drawImage(e,0,0);c=c.getImageData(0,0,a||1,b||1).data;var d,f,g,h,j,k;j=a*b;var p=256/3,H=0;for(f=d=0;d<j;d++,f+=4)c[d]=0.3*c[f]+0.59*c[f+1]+0.11*c[f+2];for(d=0;8>d;d++)for(f=0;8>f;f++){j=d/7*(b-1);g=Math.min(j|0,b-2);k=j-g;j=f/7*(a-1);h=Math.min(j|0,a-2);j-=h;H=(H<<4)+Math.min(128*((c[g*a+h]*(1-j)*(1-k)+c[g*a+h+1]*j*(1-k)+c[(g+1)*a+h+1]*j*k+c[(g+
1)*a+h]*(1-j)*k)/p|0),255);if(g=H&4026531840)H^=g>>>24;H&=~g}return e.hash=H}function sd(){return{words:[],exp:[],exph:[],ihash:[],img:[],imgn:[],name:[],theme:[],tmax:[],sage:!1,notxt:!1,noimg:!1,trip:!1}}function nc(){var a,b,c,e,d;xb=sd();hc=sd();U={rep:[],skip:[],num:[],outrep:[],video:[]};for(a=0;b=wa[a++];){d=xb;b=b.toString();if(/^#(?:[^\s]+\/)?(?:\d+)? /.test(b))if(c=b.match(/^#([^\/]+)\//),e=b.match(/(\d+)\s/),p&&c&&e&&c[1]===u&&e[1]===p||p&&!c&&e&&e[1]===p||c&&!e&&c[1]===u)b=b.replace(/^#[^\s]+ /,
"");else continue;if(/^#op /.test(b))if(p)continue;else d=hc,b=b.substr(4);if(/^#/.test(b)){c=b.split(" ")[0];b=b.replace(/^#[^\s]+ /,"");if(p&&("#skip"===c||"#num"===c)){b=b.split(", ");for(e=b.length;e--;)b[e].contains("-")||(b[e]+="-"+b[e]),"#num"===c?U.num.push(b[e]):U.skip.push(b[e])}"#rep"===c?U.rep.push(b):"#exp"===c?d.exp.push(ua(b)):"#exph"===c?d.exph.push(ua(b)):"#ihash"===c?d.ihash.push(+b):"#img"===c?d.img.push(b):"#imgn"===c?d.imgn.push(ua(b)):"#name"===c?d.name.push(b):"#theme"===c?
d.theme.push(ua(b)):"#tmax"===c?d.tmax.push(b):"#sage"===c?d.sage=!0:"#notxt"===c?d.notxt=!0:"#noimg"===c?d.noimg=!0:"#trip"===c?d.trip=!0:"#outrep"===c?U.outrep.push(b):"#video"===c&&U.video.push(b)}else d.words.push(b)}}function Lc(a,b){for(var c,e=a.length;e--;)c=ua(a[e]),b=b.replace(c,a[e].substr(c.toString().length+1));return b}function ic(a,b){var c,e,i,f,g,h,j,k;b.noHide=!1;if(U.skip[0]&&p){c=b.count+1;for(e=0;i=U.skip[e++];)if(i=i.split("-"),c>=+i[0]&&c<=+i[1])return b.noHide=!0,!1}if(a.words[0]||
a.theme[0])g=(g=v("replytitle",b)||v("filetitle",b))?g.textContent.toLowerCase():"";h=va(b);if(a.words[0]){e=0;for(c=h.toLowerCase();i=a.words[e++];)if(f=i,i=i.toLowerCase(),c.contains(i)||g.contains(i))return f}if(a.theme[0])for(e=0;i=a.theme[e++];)if(i.test(g))return"#theme "+i.toString();if(a.exp[0]){e=0;for(c=h;i=a.exp[e++];)if(i.test(c))return"#exp "+i.toString()}if(a.exph[0]){e=0;for(c=b.innerHTML;i=a.exph[e++];)if(i.test(c))return"#exph "+i.toString()}if(a.name[0]||a.trip)j=v("commentpostername",
b)||v("postername",b),k=v("postertrip",b);if(a.trip&&k)return"#trip";if(a.name[0]){j=j?j.textContent:"";k=k?k.textContent:"";for(e=0;i=a.name[e++];)if(f=i,i=i.split(/!+/),i[0]&&j.contains(i[0])||i[1]&&k.contains(i[1]))return"#name "+f}if(0<b.img.length){if(a.ihash[0]){e=0;for(c=rd(b);i=a.ihash[e++];)if(i===c)return"#ihash "+i}if(a.img[0]){f=Fb(b);c=+f[0];f=+f[1];g=mc(b);for(e=0;i=a.img[e++];){a:{j=c;k=f;var l=g,H=i;if(H){var m=void 0,n=void 0,m=void 0,n=H.split("@"),q=n[0][0],m=n[0].substr(1).split("-");
m[1]||(m[1]=m[0]);if(m[0])if("<"===q&&l<+m[0]||">"===q&&l>+m[0]||"="===q&&l>=+m[0]&&l<=+m[1]){if(!n[1]){j="image "+H;break a}}else{j=!1;break a}if(n[1]&&(m=n[1].split(/[x\u00d7]/),n=m[0].split("-"),m=m[1].split("-"),n[1]||(n[1]=n[0]),m[1]||(m[1]=m[0]),"<"===q&&j<+n[0]&&k<+m[0]||">"===q&&j>+n[0]&&k>+m[0]||"="===q&&j>=+n[0]&&j<=+n[1]&&k>=+m[0]&&k<=+m[1])){j="image "+H;break a}}j=!1}if(j)return"#img "+i}}if(a.imgn[0]&&(c=v(d.cFileInfo,b))){e=0;for(c=c.textContent;i=a.imgn[e++];)if(i.test(c))return"#imgn "+
i}}if(U.num[0]){e=0;for(c=b.count+1;i=U.num[e++];)if(f=i,i=i.split("-"),c>=+i[0]&&c<=+i[1])return"#num "+f}if(a.tmax[0]){e=0;for(c=h.replace(/\n/g,"").length;i=a.tmax[e++];)if(c>=i)return"#tmax "+i}return a.sage&&b.sage?"#sage":a.notxt&&!h?"#no text":a.noimg&&0===b.img.length?"#no image":!1}function wb(a){return!p&&a.isOp?ic(hc,a)||ic(xb,a):ic(xb,a)}function td(a){if(f.filterThrds||!a.isOp){var b=wb(a);b?$a(a,b.substring(0,70)):a.hide&&a.noHide&&gc(a)}}function ud(a){for(var a=a.split("\n"),b,c,e=
a.length,d=/#exp |#exph |#rep |#outrep |#imgn |#video |#theme /;e--;)if(b=a[e],c=b.match(d))try{ua(b.substr(b.indexOf(c)))}catch(f){return b}return!1}function jc(){y.forEach(function(a){!0===a.ytHide?(gc(a),a.ytHide=!1):wb(a)&&gc(a)})}function Nb(){var a=m("de-spell-edit"),a=a.value=a.value.replace(/[\r\n]+/g,"\n").replace(/^\n|\n$/g,""),b=ud(a);b||!a?(a?J(j.error[k]+" "+b,"err-spell",!1):(jc(),Fa(),Pa("")),l.querySelector('input[info="hideBySpell"]').checked=!1,Q("hideBySpell",0)):(jc(),Pa(a),f.hideBySpell&&
(y.forEach(td),Wc()),Fa())}function db(a){var b,c=m("de-spell-edit"),e=c&&c.value.replace(/[\r\n]+/g,"\n").replace(/^\n|\n$/g,"");if(e){if(b=ud(e)){J(j.error[k]+" "+b,"err-spell",!1);return}}else wa||Hb(),e=wa.join("\n");e=("\n"+e).contains("\n"+a)?("\n"+e).split("\n"+a).join("").replace(/^\n|\n$/g,""):!e?a:e+"\n"+a;c&&(c.value=e,c.previousSibling.firstChild.checked=!!e);jc();Pa(e);e?(Q("hideBySpell",1),y.forEach(td),Wc()):Q("hideBySpell",0);Fa()}function ec(a){if(!f.hideByWipe)return!1;var b,c,e,
d,g,h,j,k;if(f.wipeSameLin&&(b=a.replace(/>/g,"").split(/\s*\n\s*/),5<(c=b.length))){b.sort();e=0;for(g=c/4;e<c;){h=b[e];for(d=0;b[e++]===h;)d++;if(4<d&&d>g&&h)return'same lines: "'+h.substr(0,20)+'" x'+d}}if(f.wipeSameWrd&&(b=a.replace(/[\s\.\?\!,>]+/g," ").toUpperCase().split(" "),3<(c=b.length))){b.sort();e=0;g=c/4;for(k=j=0;e<c;j++){h=b[e];for(d=0;b[e++]===h;)d++;if(25<c&&(d>k&&2<h.length&&(k=d),k>=g))return'same words: "'+h.substr(0,20)+'" x'+k}h=j/c;if(0.25>h)return"uniq words: "+(100*h).toFixed(0)+
"%"}if(f.wipeLongWrd&&(b=a.replace(/https*:\/\/.*?(\s|$)/g,"").replace(/[\s\.\?!,>:;-]+/g," ").split(" "),50<b[0].length||1<(c=b.length)&&10<b.join("").length/c))return"long words";if(f.wipeCAPS&&(b=a.replace(/[\s\.\?!;,-]+/g," ").trim().split(" "),4<(c=b.length))){for(j=d=g=e=0;e<c;e++)h=b[e],5>(h.match(/[a-z\u0430-\u044f]/ig)||[]).length||(2<(h.match(/[A-Z\u0410-\u042f]/g)||[]).length&&j++,h===h.toUpperCase()&&d++,g++);if(0.3<=d/g&&4<g)return"CAPSLOCK: "+100*(d/b.length)+"%";if(0.3<=j/g&&8<g)return"cAsE words: "+
100*(j/b.length)+"%"}return f.wipeSpecial&&(b=a.replace(/\s+/g,""),30<(c=b.length)&&0.4<(h=b.replace(/[0-9a-z\u0430-\u044f\.\?!,]/ig,"").length/c))?"specsymbols: "+Math.round(100*h)+"%":f.wipeNumbers&&(b=a.replace(/\s+/g," ").replace(/>>\d+|https*:\/\/.*?(?: |$)/g,""),30<(c=b.length)&&0.4<(h=(c-b.replace(/\d/g,"").length)/c))?"numbers: "+Math.round(100*h)+"%":!1}function vc(){return!f.scriptStyle?"fr":1===f.scriptStyle?"en":"de"}function Bc(){I(z);var a,b="",c=function(a,c){b+=a+" { background: url(data:image/gif;base64,"+
c+") no-repeat center !important; }"},e=function(a,c){b+=a+':before { content: ""; padding: 0 16px 0 0; margin: 0 4px; background: url('+c+") no-repeat center; }"},b=b+('#de-content-cfg > div { float: left; border-radius: 10px 10px 0 0; width: auto; min-width: 0; padding: 0; margin: 5px 20px; overflow: hidden; }\t\t#de-cfg-info > span { display: inline-block; vertical-align: top; }\t\t#de-cfg-head { padding: 4px; border-radius: 10px 10px 0 0; color: #fff; text-align: center; font: bold 14px arial; cursor: default; }\t\t#de-cfg-head:lang(en), #de-panel:lang(en) { background: linear-gradient(to bottom, #4b90df, #3d77be 5px, #376cb0 7px, #295591 13px, rgba(0,0,0,0) 13px), linear-gradient(to bottom, rgba(0,0,0,0) 12px, #183d77 13px, #1f4485 18px, #264c90 20px, #325f9e 25px); }\t\t#de-cfg-head:lang(de), #de-panel:lang(de) { background: #777; }\t\t#de-cfg-head:lang(fr), #de-panel:lang(fr) { background: linear-gradient(to bottom, #7b849b, #616b86 2px, #3a414f 13px, rgba(0,0,0,0) 13px), linear-gradient(to bottom, rgba(0,0,0,0) 12px, #121212 13px, #1f2740 25px); }\t\t.de-cfg-body { width: 372px; min-height: 348px; padding: 11px 7px 7px; margin-top: -1px; font: 13px sans-serif; }\t\t.de-cfg-body input[type="text"] { width: auto; padding: 0px; }\t\t.de-cfg-body input[value=">"] { width: 20px; }\t\t.de-blockinp { display: block; }\t\t.de-cfg-body, #de-cfg-btns { border: 1px solid #183d77; border-top: none; }\t\t.de-cfg-body:lang(de), #de-cfg-btns:lang(de) { border-color: #444; }\t\t#de-cfg-btns { padding: 7px 2px 2px; }\t\t#de-cfg-bar { height: 25px; width: 100%; display: table; background-color: #1f2740; margin: 0; padding: 0; }\t\t#de-cfg-bar:lang(en) { background-color: #325f9e; }\t\t#de-cfg-bar:lang(de) { background-color: #777; }\t\t.de-cfg-tab { padding: 4px 6px; border-radius: 4px 4px 0 0; font: bold 14px arial; text-align: center; cursor: default; }\t\t.de-cfg-tab-back { display: table-cell !important; float: none !important; min-width: 0; padding: 0 !important; box-shadow: none !important; border: 1px solid #183d77 !important; border-radius: 4px 4px 0 0; opacity: 1; }\t\t.de-cfg-tab-back:lang(de) { border-color: #444 !important; }\t\t.de-cfg-tab-back:lang(fr) { border-color: #121421 !important; }\t\t.de-cfg-tab-back[selected="true"] { border-bottom: none !important; }\t\t.de-cfg-tab-back[selected="false"] > .de-cfg-tab { background-color: rgba(0,0,0,.2); }\t\t.de-cfg-tab-back[selected="false"] > .de-cfg-tab:lang(en), .de-cfg-tab-back[selected="false"] > .de-cfg-tab:lang(fr) { background: linear-gradient(to bottom, rgba(132,132,132,.35) 0%, rgba(79,79,79,.35) 50%, rgba(40,40,40,.35) 50%, rgba(80,80,80,.35) 100%) !important; }\t\t.de-cfg-tab-back[selected="false"] > .de-cfg-tab:hover { background-color: rgba(99,99,99,.2); }\t\t.de-cfg-tab-back[selected="false"] > .de-cfg-tab:hover:lang(en), .de-cfg-tab-back[selected="false"] > .de-cfg-tab:hover:lang(fr)  { background: linear-gradient(to top, rgba(132,132,132,.35) 0%, rgba(79,79,79,.35) 50%, rgba(40,40,40,.35) 50%, rgba(80,80,80,.35) 100%) !important; }\t\t.de-cfg-tab::'+
(h.Firefox?"-moz-":"")+"selection { background: transparent; }\t\t#de-spell-panel { float: right; }\t\t#de-spell-panel > a { padding: 0 7px; text-align: center; }\t\t#de-cfg-wipe { display: table; padding-left: 25px; }\t\t#de-cfg-wipe > div { display: table-row; }\t\t#de-cfg-wipe > div > label { display: table-cell; }\t\t.de-cfg-unvis { display: none; }"),b=b+"#de-btn-logo { margin-right: 3px; cursor: pointer; }\t\t#de-panel { height: 25px; z-index: 9999; border-radius: 15px 0 0 0; cursor: default;}\t\t#de-panel-btns { display: inline-block; padding: 0 2px; margin: 0; height: 25px; border-left: 1px solid #8fbbed; }\t\t#de-panel-btns:lang(de), #de-panel-info:lang(de) { border-color: #ccc; }\t\t#de-panel-btns:lang(fr), #de-panel-info:lang(fr) { border-color: #616b86; }\t\t#de-panel-btns > li { margin: 0 1px; padding: 0; }\t\t#de-panel-btns > li, #de-panel-btns > li > a, #de-btn-logo { display: inline-block; width: 25px; height: 25px; }\t\t#de-panel-btns:lang(en) > li, #de-panel-btns:lang(fr) > li  { transition: all 0.3s ease; }\t\t#de-panel-btns:lang(en) > li:hover, #de-panel-btns:lang(fr) > li:hover { background-color: rgba(255,255,255,.15); box-shadow: 0 0 3px rgba(143,187,237,.5); }\t\t#de-panel-btns:lang(de) > li > a { border-radius: 5px; }\t\t#de-panel-btns:lang(de) > li > a:hover { width: 21px; height: 21px; border: 2px solid #444; }\t\t#de-panel-info { display: inline-block; vertical-align: top; padding: 0 6px; height: 25px; border-left: 1px solid #8fbbed; color: #fff; font: 18px serif; }";
a="R0lGODlhGQAZAIAAAPDw8P///yH5BAEAAAEALAAAAAAZABkAQA";c("#de-btn-logo",a+"I5jI+pywEPWoIIRomz3tN6K30ixZXM+HCgtjpk1rbmTNc0erHvLOt4vvj1KqnD8FQ0HIPCpbIJtB0KADs=");c("#de-btn-settings",a+"JAjI+pa+API0Mv1Ymz3hYuiQHHFYjcOZmlM3Jkw4aeAn7R/aL6zuu5VpH8aMJaKtZR2ZBEZnMJLM5kIqnP2csUAAA7");c("#de-btn-hidden",a+"I5jI+pa+CeHmRHgmCp3rxvO3WhMnomUqIXl2UmuLJSNJ/2jed4Tad96JLBbsEXLPbhFRc8lU8HTRQAADs=");c("#de-btn-favor",a+"IzjI+py+AMjZs02ovzobzb1wDaeIkkwp3dpLEoeMbynJmzG6fYysNh3+IFWbqPb3OkKRUFADs=");c("#de-btn-refresh",
a+"JAjI+pe+AfHmRGLkuz3rzN+1HS2JWbhWlpVIXJ+roxSpr2jedOBIu0rKjxhEFgawcCqJBFZlPJIA6d0ZH01MtRCgA7");c("#de-btn-goback",a+"IrjI+pmwAMm4u02gud3lzjD4biJgbd6VVPybbua61lGqIoY98ZPcvwD4QUAAA7");c("#de-btn-gonext",a+"IrjI+pywjQonuy2iuf3lzjD4Zis0Xd6YnQyLbua61tSqJnbXcqHVLwD0QUAAA7");c("#de-btn-goup",a+"IsjI+pm+DvmDRw2ouzrbq9DmKcBpVfN4ZpyLYuCbgmaK7iydpw1OqZf+O9LgUAOw==");c("#de-btn-godown",a+"ItjI+pu+DA4ps02osznrq9DnZceIxkYILUd7bue6WhrLInLdokHq96tnI5YJoCADs=");c("#de-btn-newthr",a+"IyjI+pG+APQYMsWsuy3rzeLy2g05XcGJqqgmJiS63yTHtgLaPTY8Np4uO9gj0YbqM7bgoAOw==");
c("#de-btn-expimg",a+"I9jI+pGwDn4GPL2Wep3rxXFEFel42mBE6kcYXqFqYnVc72jTPtS/KNr5OJOJMdq4diAXWvS065NNVwseehAAA7");c("#de-btn-maskimg",a+"JQjI+pGwD3TGxtJgezrKz7DzLYRlKj4qTqmoYuysbtgk02ZCG1Rkk53gvafq+i8QiSxTozIY7IcZJOl9PNBx1de1Sdldeslq7dJ9gsUq6QnwIAOw==");d.nul&&c("#de-btn-catalog",a+"I2jI+pa+DhAHyRNYpltbz7j1Rixo0aCaaJOZ2SxbIwKTMxqub6zuu32wP9WsHPcFMs0XDJ5qEAADs=");c("#de-btn-audio-off",a+"I7jI+pq+DO1psvQHOj3rxTik1dCIzmSZqfmGXIWlkiB6L2jedhPqOfCitVYolgKcUwyoQuSe3WwzV1kQIAOw==");c("#de-btn-audio-on",a+"JHjI+pq+AewJHs2WdoZLz7X11WRkEgNoHqimadOG7uAqOm+Y6atvb+D0TgfjHS6RIp8YQ1pbHRfA4n0eSTI7JqP8Wtahr0FAAAOw==");
a="Dw8P///wAAACH5BAEAAAIALAAAAAAZABkAQAJElI+pe2EBoxOTNYmr3bz7OwHiCDzQh6bq06QSCUhcZMCmNrfrzvf+XsF1MpjhCSainBg0AbKkFCJko6g0MSGyftwuowAAOw==";c("#de-btn-upd-on","R0lGODlhGQAZAJEAADL/Mv"+a);c("#de-btn-upd-off","R0lGODlhGQAZAJEAAP8yMv"+a);c("#de-btn-upd-warn","R0lGODlhGQAZAJEAAP/0Qf"+a);b+=".de-ppanel, .de-ppanel-op { margin-left: 4px; }\t\t.de-btn-hide, .de-btn-lock, .de-btn-rep, .de-btn-expthr, .de-btn-fav, .de-btn-fav-sel, .de-btn-sage, .de-btn-src { display: inline-block; margin: 0 4px -2px 0 !important; cursor: pointer; ";
if(f.postBtnsTxt){a=b;var i;i=P("a",l);i=getComputedStyle(i).getPropertyValue("color");b=a+("color: "+i+'; font-size:14px; }\t\t\t.de-btn-hide:after { content: "\u00d7"; }\t\t\t.de-post-hid .de-btn-hide:after { content: "+"; }\t\t\t.de-btn-lock:after { content: "\u25a0"; }\t\t\t.de-btn-rep:after { content: "R"; }\t\t\t.de-btn-expthr:after { content: "E"; }\t\t\t.de-btn-fav:after { content: "F"; }\t\t\t.de-btn-fav-sel:after { content: "[F]"; }\t\t\t.de-btn-sage:after { content: "Sage!"; }\t\t\t.de-btn-src:after { content: "[Sauce]"; }')}else b+=
"padding: 0 14px 14px 0; }",a="R0lGODlhDgAOAKIAAPDw8KCgoICAgEtLS////wAAAAAAAAAAACH5BAEAAAQALAAAAAAOAA4AQAM",c(".de-btn-hide",a+"8SLLcS2MNQGsUMYi6uB5BKI5hFgojel5YBbDDNcmvpJLkcgLq1jcuSgPmgkUmlJgFAyqNmoEBJEatxggJADs="),c(".de-post-hid .de-btn-hide",a+"5SLLcS2ONCcCMIoYdRBVcN4Qkp4ULmWVV20ZTM1SYBJbqvXmA3jk8IMzlgtVYFtkoNCENIJdolJAAADs="),c(".de-btn-lock",a+"zSLLcS2MNQGsUMQRRq9CYJo5iRp6Y1FHXcGFuzJjnuIjOBzYr0LS9FnAlrJEGkJhSSUgAADs="),c(".de-btn-rep",a+"4SLLcS2MNQGsUMQRRwdLbAI5kpn1kKHUWdk3AcDFmOqKcJ5AOq0srX0QWpBAlIo3MNoDInlAZIQEAOw=="),
c(".de-btn-expthr",a+"7SLLcS6MNACKLIQjKgcjCkI2DOAbYuHlnKFHWUl5dnKpfm2vd7iyUXywEk1gmnYrMlEEyUZCSdFoiJAAAOw=="),c(".de-btn-fav",a+"5SLLcS2MNQGsUl1XgRvhg+EWhQAllNG0WplLXqqIlDS7lWZvsJkm92Au2Aqg8gQFyhBxAlNCokpAAADs="),c(".de-btn-fav-sel","R0lGODlhDgAOAKIAAP/hAKCgoICAgEtLS////wAAAAAAAAAAACH5BAEAAAQALAAAAAAOAA4AQAM5SLLcS2MNQGsUl1XgRvhg+EWhQAllNG0WplLXqqIlDS7lWZvsJkm92Au2Aqg8gQFyhBxAlNCokpAAADs="),c(".de-btn-sage","R0lGODlhDgAOAJEAAPDw8EtLS////wAAACH5BAEAAAIALAAAAAAOAA4AQAIZVI55duDvFIKy2vluoJfrD4Yi5lWRwmhCAQA7"),
c(".de-btn-src",a+"9SLLcS0MMQMesUoQg6PKbtFnDaI0a53VAml2ARcVSFC0WY6ecyy+hFajnWDVssyQtB5NhTs1mYAAhWa2EBAA7");e(".de-src-google","//google.ru/favicon.ico");e(".de-src-tineye","//tineye.com/favicon.ico");e(".de-src-iqdb","//iqdb.org/favicon.ico");e(".de-src-saucenao","//saucenao.com/favicon.ico");p&&(b+='.de-thread { counter-reset: i 1; }\t\t.de-ppanel.de-ppanel-cnt:after { counter-increment: i 1; content: counter(i, decimal); vertical-align: 1px; color: #4f7942; font: italic bold 13px serif; cursor: default; }\t\t.de-ppanel-del:after { content: "'+
j.deleted[k]+'"; color: #727579; font: italic bold 13px serif; cursor: default; }');b+="#de-txt-panel { display: block; height: 23px; font-weight: bold; cursor: pointer; }\t\t#de-txt-panel > span:empty { display: inline-block; width: 27px; height: 23px }\t\t#de-txt-panel:lang(en) { display: none; }\t\t#de-txt-panel:lang(ru) { float: right; }";a="R0lGODlhFwAWAJEAAPDw8GRkZAAAAP///yH5BAEAAAMALAAAAAAXABYAQAJ";c("#de-btn-bold:empty",a+"T3IKpq4YAoZgR0KqqnfzipIUikFWc6ZHBwbQtG4zyonW2Vkb2iYOo8Ps8ZLOV69gYEkU5yQ7YUzqhzmgsOLXWnlRIc9PleX06rnbJ/KITDqTLUAAAOw==");
c("#de-btn-italic:empty",a+"K3IKpq4YAYxRCSmUhzTfx3z3c9iEHg6JnAJYYSFpvRlXcLNUg3srBmgr+RL0MzxILsYpGzyepfEIjR43t5kResUQmtdpKOIQpQwEAOw==");c("#de-btn-under:empty",a+"V3IKpq4YAoRARzAoV3hzoDnoJNlGSWSEHw7JrEHILiVp1NlZXtKe5XiptPrFh4NVKHh9FI5NX60WIJ6ATZoVeaVnf8xSU4r7NMRYcFk6pzYRD2TIUAAA7");c("#de-btn-strike:empty",a+"S3IKpq4YAoRBR0qqqnVeD7IUaKHIecjCqmgbiu3jcfCbAjOfTZ0fmVnu8YIHW6lgUDkOkCo7Z8+2AmCiVqHTSgi6pZlrN3nJQ8TISO4cdyJWhAAA7");c("#de-btn-spoil:empty","R0lGODlhFwAWAJEAAPDw8GRkZP///wAAACH5BAEAAAIALAAAAAAXABYAQAJBlIKpq4YAmHwxwYtzVrprXk0LhBziGZiBx44hur4kTIGsZ99fSk+mjrMAd7XerEg7xnpLIVM5JMaiFxc14WBiBQUAOw==");
c("#de-btn-code:empty",a+"O3IKpq4YAoZgR0KpqnFxokH2iFm7eGCEHw7JrgI6L2F1YotloKek6iIvJAq+WkfgQinjKVLBS45CePSXzt6RaTjHmNjpNNm9aq6p4XBgKADs=");c("#de-btn-quote:empty",a+"L3IKpq4YAYxRUSKguvRzkDkZfWFlicDCqmgYhuGjVO74zlnQlnL98uwqiHr5ODbDxHSE7Y490wxF90eUkepoysRxrMVaUJBzClaEAADs=");h.Anim&&(b+="@keyframes de-open {\t\t\t\t0% { transform: translateY(-1500px); }\t\t\t\t40% { transform: translateY(30px); }\t\t\t\t70% { transform: translateY(-10px); }\t\t\t\t100% { transform: translateY(0); }\t\t\t}\t\t\t@keyframes de-close {\t\t\t\t0% { transform: translateY(0); }\t\t\t\t20% { transform: translateY(20px); }\t\t\t\t100% { transform: translateY(-4000px); }\t\t\t}\t\t\t@keyframes de-blink {\t\t\t\t0%, 100% { transform: translateX(0); }\t\t\t\t10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }\t\t\t\t20%, 40%, 60%, 80% { transform: translateX(10px); }\t\t\t}\t\t\t@keyframes de-cfg-open { from { transform: translate(0,50%) scaleY(0); opacity: 0; } }\t\t\t@keyframes de-cfg-close { to { transform: translate(0,50%) scaleY(0); opacity: 0; } }\t\t\t@keyframes de-post-open-tl { from { transform: translate(-50%,-50%) scale(0); opacity: 0; } }\t\t\t@keyframes de-post-open-bl { from { transform: translate(-50%,50%) scale(0); opacity: 0; } }\t\t\t@keyframes de-post-open-tr { from { transform: translate(50%,-50%) scale(0); opacity: 0; } }\t\t\t@keyframes de-post-open-br { from { transform: translate(50%,50%) scale(0); opacity: 0; } }\t\t\t@keyframes de-post-close-tl { to { transform: translate(-50%,-50%) scale(0); opacity: 0; } }\t\t\t@keyframes de-post-close-bl { to { transform: translate(-50%,50%) scale(0); opacity: 0; } }\t\t\t@keyframes de-post-close-tr { to { transform: translate(50%,-50%) scale(0); opacity: 0; } }\t\t\t@keyframes de-post-close-br { to { transform: translate(50%,50%) scale(0); opacity: 0; } }\t\t\t.de-pview-anim { animation-duration: .2s; animation-timing-function: ease-in-out; animation-fill-mode: both; }\t\t\t.de-open { animation: de-open .7s ease-out both; }\t\t\t.de-close { animation: de-close .7s ease-in both; }\t\t\t.de-blink { animation: de-blink .7s ease-in-out both; }\t\t\t.de-cfg-open { animation: de-cfg-open .2s ease-out backwards; }\t\t\t.de-cfg-close { animation: de-cfg-close .2s ease-in both; }");
e(".de-ytube-link","//youtube.com/favicon.ico");b+=".de-img-pre, .de-img-full { display: block; margin: "+(d.krau?0:"2px 10px")+"; border: none; outline: none; cursor: pointer; }\t\t.de-img-full { float: left; }\t\t.de-img-center { position: fixed; z-index: 9999; border: 1px solid black; }\t\t.de-mp3, .de-ytube-obj { margin: 5px 20px; }\t\ttd > a + .de-ytube-obj { display: inline-block; }";e(".de-wait","data:image/gif;base64,R0lGODlhEAAQALMMAKqooJGOhp2bk7e1rZ2bkre1rJCPhqqon8PBudDOxXd1bISCef///wAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAAMACwAAAAAEAAQAAAET5DJyYyhmAZ7sxQEs1nMsmACGJKmSaVEOLXnK1PuBADepCiMg/DQ+/2GRI8RKOxJfpTCIJNIYArS6aRajWYZCASDa41Ow+Fx2YMWOyfpTAQAIfkEBQAADAAsAAAAABAAEAAABE6QyckEoZgKe7MEQMUxhoEd6FFdQWlOqTq15SlT9VQM3rQsjMKO5/n9hANixgjc9SQ/CgKRUSgw0ynFapVmGYkEg3v1gsPibg8tfk7CnggAIfkEBQAADAAsAAAAABAAEAAABE2QycnOoZjaA/IsRWV1goCBoMiUJTW8A0XMBPZmM4Ug3hQEjN2uZygahDyP0RBMEpmTRCKzWGCkUkq1SsFOFQrG1tr9gsPc3jnco4A9EQAh+QQFAAAMACwAAAAAEAAQAAAETpDJyUqhmFqbJ0LMIA7McWDfF5LmAVApOLUvLFMmlSTdJAiM3a73+wl5HYKSEET2lBSFIhMIYKRSimFriGIZiwWD2/WCw+Jt7xxeU9qZCAAh+QQFAAAMACwAAAAAEAAQAAAETZDJyRCimFqbZ0rVxgwF9n3hSJbeSQ2rCWIkpSjddBzMfee7nQ/XCfJ+OQYAQFksMgQBxumkEKLSCfVpMDCugqyW2w18xZmuwZycdDsRACH5BAUAAAwALAAAAAAQABAAAARNkMnJUqKYWpunUtXGIAj2feFIlt5JrWybkdSydNNQMLaND7pC79YBFnY+HENHMRgyhwPGaQhQotGm00oQMLBSLYPQ9QIASrLAq5x0OxEAIfkEBQAADAAsAAAAABAAEAAABE2QycmUopham+da1cYkCfZ94UiW3kmtbJuRlGF0E4Iwto3rut6tA9wFAjiJjkIgZAYDTLNJgUIpgqyAcTgwCuACJssAdL3gpLmbpLAzEQA7");
b+=".de-abtn { text-decoration: none !important; outline: none; }\t\t#de-alert { position: fixed; right: 0; top: 0; z-index: 9999; font: 14px arial; cursor: default; }\t\t#de-alert > div { float: right; clear: both; width: auto; min-width: 0pt; padding: 10px; margin: 1px; border: 1px solid grey; white-space: pre-wrap; }\t\t.de-alert-btn { display: inline-block; vertical-align: top; font-size: 150%; color: green; cursor: pointer; }\t\t.de-alert-msg { display: inline-block; margin-top: .25em; }\t\t.de-content { text-align: left; }\t\t.de-content textarea { display: block; margin: 2px 0; font: 12px courier new; "+
(h.Opera?"":"resize: none !important; ")+'}\t\t.de-content-block > a { color: inherit; font-weight: bold; }\t\t#de-content-fav, #de-content-hid { font-size: 16px; padding: 10px; border: 1px solid gray; }\t\t.de-entry { margin: 2px 0; }\t\t.de-entry > :first-child { float: none !important; }\t\t.de-entry > div > a { text-decoration: none; }\t\t.de-fav-inf-posts, .de-fav-inf-page { float: right; margin-right: 5px; font: bold 16px serif; }\t\t.de-fav-inf-old { color: #4f7942; }\t\t.de-fav-inf-new { color: blue; }\t\t.de-fav-title { margin-right: 15px; }\t\t.de-omitted { color: grey; font-style: italic; }\t\t.de-post-note { color: inherit; font: italic bold 12px serif; }\t\t.de-ref-hid { text-decoration: line-through !important; }\t\t.de-refmap { margin: 10px 4px 4px 4px; font-size: 70%; font-style: italic; }\t\t.de-refmap:before { content: "'+
j.replies[k]+' "; }\t\t.de-refmap > a { text-decoration: none; }\t\t#de-sagebtn { margin-right: 7px; cursor: pointer; }\t\t#de-select { padding: 0 !important; margin: 0 !important; width: auto; min-width: 0; z-index: 9999; border: 1px solid grey;}\t\t#de-select a { display: block; padding: 3px 10px; color: inherit; text-decoration: none; font: 13px arial; white-space: nowrap; }\t\t#de-select a:hover { background-color: #222; color: #fff; }\t\t.de-selected { '+(h.Opera?"border-left: 4px solid red; border-right: 4px solid red; }":
"box-shadow: 6px 0 2px -2px red, -6px 0 2px -2px red; }")+'\t\t#de-txt-resizer { display: inline-block !important; float: none !important; padding: 5px; margin: 0 0 -6px -12px; border-bottom: 2px solid #555; border-right: 2px solid #444; cursor: se-resize; }\t\t.de-viewed { color: #888 !important; }\t\t.de-pview { position: absolute; width: auto; min-width: 0; z-index: 9999; border: 1px solid grey; margin: 0 !important; display: block !important; }\t\t.de-pview-info { padding: 3px 6px !important; }\t\t.de-pview-link { font-weight: bold; }\t\t.de-archive:after { content: ""; padding: 0 16px 3px 0; margin: 0 4px; background: url(data:image/gif;base64,R0lGODlhEAAQALMAAF82SsxdwQMEP6+zzRA872NmZQesBylPHYBBHP///wAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAkALAAAAAAQABAAQARTMMlJaxqjiL2L51sGjCOCkGiBGWyLtC0KmPIoqUOg78i+ZwOCUOgpDIW3g3KJWC4t0ElBRqtdMr6AKRsA1qYy3JGgMR4xGpAAoRYkVDDWKx6NRgAAOw==) no-repeat center; }\t\t#de-iframe-pform, #de-iframe-dform, small[id^="rfmap"], div[id^="preview"], div[id^="pstprev"], body > hr, .theader, .postarea { display: none !important; }';
d.kus?b+="#newposts_get, .extrabtns, .ui-resizable-handle, .replymode { display: none !important; }\t\t\t.ui-wrapper { display: inline-block; width: auto !important; height: auto !important; padding: 0 !important; }":d.mlpg&&(b+='#de-pform > div, .mentioned, form > div[style="text-align: center;"], form > div[style="text-align: center;"] + hr { display: none !important; }');d.krau?b+='.de-post-hid > div:not(.postheader), img[id^="translate_button"], img[src$="button-expand.gif"], img[src$="button-close.gif"], body > center > hr, h2, form > div:first-of-type > hr'+
(Ua?', div[id^="disclaimer"]':"")+' { display: none !important; }\t\t\tdiv[id^="Wz"] { z-index: 10000 !important; }\t\t\t.de-thr-hid { margin-bottom: '+(!p?"7":"2")+"px; }\t\t\t.file_reply + .de-ytube-obj, .file_thread + .de-ytube-obj { margin: 5px 20px 5px 5px; float: left; }\t\t\t.de-ytube-obj + div { clear: left; }":d.fch?b+=".de-spoiler { color: #000; background-color: #000; }\t\t\t.de-post-hid > .file, .de-post-hid > blockquote, #mpostform, .navLinks, .postingMode { display: none !important; }":
d.tiny?b+="form, form table { margin: 0; }\t\t\t.de-post-hid > .intro ~ *, .post-hover { display: none !important; }":d._420?b+=".de-post-hid > .replyheader ~ *, .opqrbtn, .qrbtn, .ignorebtn, .hidethread, noscript, #content > hr { display: none !important; }\t\t\t.de-thr-hid { margin: 1em 0; }":(b+=".de-post-hid > .de-ppanel ~ * { display: none !important; }",d.abu?b+=".ABU_refmap, .postpanel, #CommentToolbar, #usrFlds + tbody > tr:first-child, #postform > div:nth-child(2), #BottomNormalReply, body > center { display: none !important; }\t\t\t\t#de-txt-panel { font-size: 16px !important; }\t\t\t\t.de-abtn { transition: none; }":
d.nul?b+='#postform nobr, .replieslist, #captcha_status, a[href="#top"], #posttypeindicator, .content-background > hr { display: none !important; }\t\t\t\t.ui-wrapper { position: static !important; margin: 0 !important; overflow: visible !important; }\t\t\t\t.ui-resizable { display: inline !important; }':d.hana?b+="#hideinfotd, .reply_, .delete > img, .popup { display: none; }\t\t\t\t.delete { background: none; }\t\t\t\t.delete_checkbox { position: static !important; }\t\t\t\t.file + .de-ytube-obj { float: left; margin: 5px 20px 5px 5px; }\t\t\t\t.de-ytube-obj + div { clear: left; }":
d._7ch?b+=".reply { background-color: "+getComputedStyle(l.body).getPropertyValue("background-color")+"; }":d.gazo?b+=".de-content, .de-cfg-body { font-family: arial; }\t\t\t\t.ftbl { width: auto; margin: 0; }\t\t\t\t.reply { background: #f0e0d6; }":d.brit?b+=".de-ppanel, .de-ppanel-op { float: left; margin-top: 0.45em; }\t\t\t\ta + .threadlinktext { position: relative; top: 17px; }\t\t\t\t.postthreadlinks, .pagethreadlinks, .pwpostblock { display: none; }\t\t\t\t.de-btn-src { padding: 0px 10px 10px 0px !important; background-size: cover !important; }":
d.tinyIb?b+="br.clear { display: none !important; }":d.pony&&(b+="#bodywrap3 > hr, .blotter { display: none !important; }"));Ua&&(b+="body > :not("+(d.brit?".threadz":"form")+") { display: none; }");16>h.Firefox&&(b=b.replace(/(transition|keyframes|transform|animation|linear-gradient)/g,h.cssFix+"$1"),h.Opera||(b=b.replace(/\(to bottom/g,"(top").replace(/\(to top/g,"(bottom")));ha(l.head,[q("style",{id:"de-css",type:"text/css",text:b},null),q("style",{id:"de-css-dynamic",type:"text/css"},null)]);
b=c=e=null;ka();I(z)}function ka(){var a;a=f.attachPanel?".de-content { position: fixed; right: 0; bottom: 25px; z-index: 9999; max-height: 95%; overflow-x: visible; overflow-y: auto; }\t\t#de-panel { position: fixed; right: 0; bottom: 0; }":".de-content { clear: both; float: left; }\t\t#de-panel { float: right; clear: both; }";a=3===f.addPostForm?a+"#de-qarea { position: fixed; right: 0; bottom: 25px; z-index: 9990; padding: 3px; border: 1px solid gray; }\t\t\t#de-qarea-target { font-weight: bold; }\t\t\t#de-qarea-close { float: right; color: green; font: bold 20px arial; cursor: pointer; }":
a+"#de-qarea { float: none; clear: left; width: 100%; padding: 3px 0 3px 3px; margin: 2px 0; }";f.panelCounter||(a+="#de-panel-info { display: none; }");f.expandPanel||(a+="#de-panel-btns, #de-panel-info { display: none; }");f.maskImgs&&(a+='.de-img-pre, .de-ytube-obj, img[src*="spoiler"], img[src*="thumb"] { opacity: 0.07 !important; }\t\t\t.de-img-pre:hover, .de-ytube-obj:hover, img[src*="spoiler"]:hover, img[src*="thumb"]:hover { opacity: 1 !important; }');f.delHiddPost&&(a+=".de-thr-hid, .de-thr-hid + div + br, .de-thr-hid + div + br + hr { display: none; }");
f.noPostNames&&(a+=".commentpostername, .postername, .postertrip { display: none; }");f.noSpoilers&&(a+=".spoiler, .de-spoiler { background: #888 !important; color: #ccc !important; }");f.noPostScrl&&(a+="blockquote, blockquote > p, .code_part { max-height: 100% !important; overflow: visible !important; }");f.noBoardRule&&(a+=(d.gazo?".chui":".rules, #rules, #rules_row")+" { display: none; }");d.abu&&f.addYouTube&&(a+='div[id^="post_video"] { display: none !important; }');m("de-css-dynamic").textContent=
a}function Fc(a,b){var c=f.scrUpdIntrv;if(!a){switch(c){case 0:c=1728E5;break;case 1:c=3456E5;break;case 2:c=12096E5;break;case 3:c=24192E5;break;default:c=5184E6}if(Date.now()-+f.lastScrUpd<c)return}GM_xmlhttpRequest({method:"GET",url:"https://raw.github.com/SthephanShinkufag/Dollchan-Extension-Tools/master/Dollchan_Extension_Tools.meta.js",headers:{"Content-Type":"text/plain"},onreadystatechange:function(c){if(4===c.readyState)if(200===c.status){var c=c.responseText.match(/@version\s+([0-9.]+)/)[1].split("."),
d=f.version.split("."),g=d.length>c.length?d.length:c.length,h=0,l=!1;if(c){for(f.lastScrUpd=Date.now();h<g;){if((+c[h]||0)>(+d[h]||0)){l=!0;break}else if((+c[h]||0)<(+d[h]||0))break;h++}l?b('<a style="color: blue; font-weight: bold;" href="https://raw.github.com/SthephanShinkufag/Dollchan-Extension-Tools/master/Dollchan_Extension_Tools.user.js">'+j.updAvail[k]+"</a>"):a&&b(j.haveLatest[k])}else a&&b('<div style="color: red; font-weigth: bold;">'+j.noConnect[k]+"</div>")}else a&&b('<div style="color: red; font-weigth: bold;">'+
j.noConnect[k]+"</div>")}})}function Md(){if(/^(?:about|chrome|opera|res)/i.test(window.location))return!1;if(!window.localStorage||!("object"===typeof localStorage&&window.sessionStorage))return GM_log("WEBSTORAGE ERROR: please, enable webstorage!"),!1;var a=window.location.hostname.match(/(?:(?:[^.]+\.)(?=org\.|net\.|com\.))?[^.]+\.[^.]+$|^\d+\.\d+\.\d+\.\d+$|localhost/)[0];d={hana:ja('.//script[contains(@src,"hanabira")]',l),tiny:ja('.//form[@name="postcontrols"]',l)};switch(a){case "4chan.org":d.fch=
!0;break;case "krautchan.net":d.krau=!0;break;case "2chan.net":d.gazo=!0;break;case "britfa.gs":d.brit=!0;break;case "420chan.org":d._420=!0;break;case "ernstchan.net":case "ernstchan.com":d.erns=!0}d.qDForm=d.brit?".threadz":d.hana||d.krau?'form[action*="delete"]':d.tiny?'form[name="postcontrols"]':d.gazo?"form:nth-of-type(2)":'#delform, form[name="delform"]';d.getTNum=d.fch||d.krau||d.gazo||d.tiny?function(a){return a.querySelector('input[type="checkbox"]').name.match(/\d+/)[0]}:d.hana||d.brit?
function(a){return a.querySelector("a[name]").name.match(/\d+/)[0]}:d._420?function(a){return a.querySelector("a[id]").id.match(/\d+/)[0]}:function(a){return a.querySelector('input[type="checkbox"]').value};if(z=l.querySelector(d.qDForm)){d.dm=a;d.host=window.location.hostname;d.kus=ja('.//script[contains(@src,"kusaba")]',l);d.abu=!!m("ABU_css");d.tinyIb=ja('.//form[contains(@action,"imgboard.php?delete")]',l);switch(a){case "0-chan.ru":case "0chan.ru":d.nul=!0;d.kus=!0;break;case "2--ch.ru":d.tire=
!0;break;case "410chan.ru":d._410=!0;break;case "hiddenchan.i2p":d.hid=!0;break;case "dfwk.ru":d.dfwk=!0;break;case "7chan.org":d._7ch=!0;break;case "ponychan.net":d.pony=!0;break;case "mlpg.co":d.mlpg=!0}d.hid&&(window.setTimeout=function(a,b){"function"===typeof a&&a.apply(null,Ca.slice.call(arguments,2));return 1});String.prototype.contains||(String.prototype.contains=function(a){return-1!==this.indexOf(a)});RegExp.quote=function(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")};window.GM_log||
(window.GM_log=function(a){console.error(a)});window.GM_xmlhttpRequest||(window.GM_xmlhttpRequest=function(a){var b,d=new window.XMLHttpRequest;a.onreadystatechange&&(d.onreadystatechange=function(){a.onreadystatechange(d)});d.onload=function(){if(a.onload)a.onload(d);d=a=null};d.open(a.method,a.url,!0);d.setRequestHeader("Accept-Encoding","deflate, gzip, x-gzip");for(b in a.headers)d.setRequestHeader(b,a.headers[b]);d.send(null)});d.ru=d.hana||d.tinyIb||d.tire||"02ch.net"===a;d.cReply=d.krau?"postreply":
d.tiny||d.fch?"post reply":"reply";d.cOPost=d.kus?"postnode":d.fch?"op":d.mlpg?"opMain":"oppost";d.qThread=d.krau?".thread_body":d._420?'[id*="thread"]':!d.erns&&l.querySelector(".thread")?".thread":l.querySelector('div[id*="_info"][style*="float"]')?'div[id^="t"]:not([style])':'[id^="thread"]'+(d._7ch?":not(#thread_controls)":"");d.qRef=d.fch?".postInfo > :last-child":d.tiny?".intro > :last-child":d.krau?".postnumber":d.gazo?".del":".reflink";d.qMsg=d.hana?".postbody":d.tiny?".body":d._7ch?".message":
"blockquote";d.cFileInfo=d.fch?"fileText":d.krau||d.tiny||d.hana||d.brit?"fileinfo":"filesize";d.qImgLink=d.brit?".fileinfo":d.krau?".filename > a":(d.gazo?"":"."+d.cFileInfo)+' a[href$=".jpg"],'+(d.gazo?"":"."+d.cFileInfo)+' a[href$=".png"],'+(d.gazo?"":"."+d.cFileInfo)+' a[href$=".gif"]';d.qPostForm=d.gazo?"form:nth-of-type(1)":d.fch||d.tiny?'form[name="post"]':"#postform";d.cTitle=d.krau?"postsubject":d.tiny||d.fch?"subject":d.hana?"replytitle":"filetitle";d.qOmitted=d.gazo?'font[color="#707070"]':
d.krau?".omittedinfo":d.hana?".abbrev":d.fch?".summary.desktop":".omittedposts";d.qBan=d.krau?".ban_mark":d.fch?'strong[style="color: red;"]':!1;d.res=d.krau?"thread-":d.erns?"faden/":"res/";d.rePviewBrd=RegExp("^\\/?(.*?)\\/?(?:"+RegExp.quote(d.res)+"|index|\\d+|$)");d.reCrossLinks=RegExp(">https?:\\/\\/[^\\/]*"+d.dm+"\\/([a-z0-9]+)\\/"+RegExp.quote(d.res)+"(\\d+)(?:[^#<]+)?(?:#i?(\\d+))?<","g");d.getPicWrap=d.hana?function(a){a.previousElementSibling||(a=a.parentNode);return a.parentNode}:d.krau?
function(a){return a.parentNode}:ca;d.getPosts=d.gazo?function(a){return a.querySelectorAll("td:nth-child(2)")}:d.tiny||d.fch?function(a){return aa("reply",a)}:function(a){return aa(d.cReply,a)};d.getOp=d.brit?function(a,b){var d,f=W(b.createElement("div"),{style:"clear: left;"}),g=v("originalpost",a);for(L(v("postmenu",g),f);"TABLE"!==(d=a.firstChild).tagName;)L(f,d),f=d;f=b.createElement("div");for(ba(a.firstChild,f);d=g.firstChild;)f.appendChild(d);w(P("table",a));return f}:function(a,b){var f,
g,h;if(g=v(d.cOPost,a))return g;g=b.createElement("div");for(h=a.querySelector(d.qTable+', div[id^="repl"]');(f=a.firstChild)!==h;)g.appendChild(f);a.childElementCount?ba(a.firstChild,g):a.appendChild(g);return g};d.getPNum=d.gazo?function(a){return P("input",a).name}:function(a){return a.id.match(/\d+/)[0]};d.getSage=d.fch?function(a){return!!v("id_Heaven",a)}:d.krau?function(a){return!!v("sage",a)}:d._410?function(a){return ja('.//span[@class="filetitle" and contains(text(),"'+unescape("%u21E9")+
'")]',a)}:function(a){return(a=a.querySelector('a[href^="mailto:"], a[href="sage"]'))&&/sage/i.test(a.href)}}switch(window.name){case "de-iframe-pform":case "de-iframe-dform":return Eb(('window.top.postMessage("J'+window.name+"$#$"+Oc(l)+"$#$"+Qc(l,!0)+'", "*");').replace(/\n|\r/g,"\\n")),!1;case "de-iframe-fav":var b=setInterval(function(){w(m("de-fav-script"));l.head.appendChild(q("script",{id:"de-fav-script",type:"text/javascript",text:'window.top.postMessage("I'+(l.body.offsetHeight+5)+'", "*");'},
null))},1500);S(window,{load:function(){setTimeout(function(){clearInterval(b);b=null},3E4)}});Ua=!0;g={}}if(d.hana&&"/settings"===window.location.pathname)return S(l.querySelector('input[type="button"]'),{click:function(){var a=m("rating").value;l.cookie=escape("de-rating")+"="+escape(a)+";expires="+(new Date(Date.now()+1E12)).toGMTString()+";path=/"}}),!1;if(!z||m("de-panel"))return!1;a=window.navigator.userAgent;h={Firefox:+(a.match(/mozilla.*? rv:(\d+)/i)||[,0])[1],Opera:window.opera?+window.opera.version():
0,WebKit:+(a.match(/WebKit\/([\d.]+)/i)||[,0])[1]};h.Safari=h.WebKit&&!/chrome/i.test(a);h.isGM=!!h.Firefox&&"function"===typeof GM_setValue;h.isGlobal=h.isGM||!!Ba;h.cssFix=h.WebKit?"-webkit-":h.Opera?12.5>h.Opera?"-o-":"":16>h.Firefox?"-moz-":"";if(!h.Opera||12<=h.Opera)h.Anim=!0,h.animName=h.WebKit?"webkitAnimationName":h.Opera?"OAnimationName":16>h.Firefox?"MozAnimationName":"animationName",h.animEnd=h.WebKit?"webkitAnimationEnd":h.Opera&&12.5>h.Opera?"oAnimationEnd":"animationend",h.animEvent=
function(a,b){a.addEventListener(h.animEnd,function C(){this.removeEventListener(h.animEnd,C,!1);b(this);b=null},!1)};14<h.Firefox||536.1<=h.WebKit?h.toBlob=function(a,b){return b?new Blob(a,{type:b}):new Blob(a)}:5<h.Firefox?h.toBlob=function(a,b){var d,f,g,h,j,k,l=new window.MozBlobBuilder;d=0;for(g=a.length;d<g;d++)if(k=a[d],k.buffer)if(k.length!==k.buffer.byteLength){j=new Uint8Array(h=k.length);for(f=0;f<h;f++)j[f]=k[f];l.append(j.buffer)}else l.append(k.buffer);else l.append(k);return b?l.getBlob(b):
l.getBlob()}:h.noBlob=!0;h.insAfter=h.Firefox&&8>h.Firefox?function(a,b){L(a,B(b))}:function(a,b){a.insertAdjacentHTML("afterend",b)};h.insBefore=h.Firefox&&8>h.Firefox?function(a,b){ba(a,B(b))}:function(a,b){a.insertAdjacentHTML("beforebegin",b)};h.forEach=h.WebKit||h.Firefox?function(a,b){Object.keys(a).forEach(b,a)}:function(a,b){for(var d in a)a.hasOwnProperty(d)&&b.call(a,d)};h.fixLink=h.Safari?function(a){return"/"===a[1]?"http:"+a:"/"===a[0]?"http://"+d.host+a:a}:function(a){return a};h.WebKit&&
(window.URL=window.webkitURL);h.addClass=h.Opera&&11.5>h.Opera?function(a,b){a.className+=" "+b}:function(a,b){a.classList.add(b)};h.remClass=h.Opera&&11.5>h.Opera?function(a,b){a.className=a.className.replace(RegExp("(?:^| )"+b,"g"),"")}:function(a,b){a.classList.remove(b)};h.toDOM=12<=h.Firefox?function(a){return(new DOMParser).parseFromString(a,"text/html")}:function(a){var b=l.implementation.createHTMLDocument("");b.documentElement.innerHTML=a;return b};return-1!==(Oa("DESU_Exclude")||"").indexOf(d.dm)?
!1:!0}function dd(a){if(!a||d.abu&&v("locked",a))return{};var b=d._7ch?"li":"tr",c=".//"+b+'[not(contains(@style,"none"))]//input[not(@type="hidden") and ',e=a.querySelector("#recaptcha_response_field");return{on:!0,isQuick:!1,qButton:!d.tiny||!!p,tNum:p,form:a,tr:"ancestor::"+b+"[1]",recap:e,cap:a.querySelector('input[name*="aptcha"]:not([name="recaptcha_challenge_field"])')||e,txta:a.querySelector(b+':not([style*="none"]) textarea:not([style*="display:none"])'),subm:a.querySelector(b+' input[type="submit"]'),
file:a.querySelector(b+' input[type="file"]'),passw:a.querySelector(b+' input[type="password"]'),dpass:z.querySelector('input[type="password"]'),gothr:V('.//tr[@id="trgetback"]|.//input[@type="radio" or @name="gotothread"]/ancestor::tr[1]',a),name:V(c+'(@name="field1" or @name="name" or @name="internal_n" or @name="nya1" or @name="akane")]',a),mail:V(c+(d._410?'@name="sage"]':'(@name="field2" or @name="em" or @name="sage" or @name="email" or @name="nabiki" or @name="dont_bump")]'),a),video:a.querySelector(b+
' input[name="video"], '+b+' input[name="embed"]')}}function ac(a,b,c,e){a.thr=c;a.count=e;a.msg=a.querySelector(d.qMsg);a.img=Da(a);a.sage=d.getSage(a);a.setAttribute("de-post",b);G[a.num=b]=a}function ed(a,b,c){var e,f,g=!1,h=a.querySelectorAll(d.qThread);A(a.getElementsByTagName("script"),w);if(2>y.length&&(d.qTable=d.fch||d.mlpg?".replyContainer":d.brit?'div[id^="replies"] > table':!d.tiny&&(d.gazo||a.querySelector("td."+d.cReply))?"form > table, div > table":!1,d.getWrap=d.fch||d.mlpg?function(a){return a.parentNode}:
d.qTable?function(a){return a.isOp?a:V("ancestor::table[1]",a)}:function(a){return a},d.qTable&&(bb=a.querySelector(d.qTable))&&b!==l))bb=l.importNode(bb,!0);if(0===h.length)for(e=P("hr",a).parentNode.firstChild;;){for(h=b.createElement("div");e&&(f=e.nextSibling)&&"HR"!==f.tagName;)h.appendChild(e),e=f;g?L(g,h):ba(a.firstChild,h);if(!e||!f)return;h.childElementCount&&c(h);g=f;e=f.nextSibling}A(h,c)}function kd(a){try{ed(a,l,function(a){if(d._420||d.tiny)L(a,a.lastChild),w(v("clear",a));var b,f=d.getOp(a,
l),g=Ca.slice.call(d.getPosts(a)),j=g.length;ac(f,a.num=d.getTNum(f),a,0);f.isOp=!0;f.tTitle=(v(d.cTitle,f)||{}).textContent||va(f).substring(0,70);for(b=0;b<j;b++)ac(g[b],d.getPNum(g[b]),a,b+1);y.push(f);ia.push(f);y=y.concat(g);h.addClass(a,"de-thread");a.pCount=j+lc(a)})}catch(b){return GM_log("DELFORM ERROR:\n"+(h.WebKit?b.stack:b.name+": "+b.message+"\n"+(h.Firefox?b.stack.replace(/^([^@]*).*\/(.+)$/gm,function(a,b,d){return"    at "+(b?b+" ("+d+")":d)}):b.stack))),!1}a.removeAttribute("id");
return!0}function cc(a){yb&&(a=yb.init(a).fix(a,null));if(d.fch||d.krau)a=a.replace(/(^|>|\s|&gt;)(https*:\/\/.*?)(?=$|<|\s)/ig,'$1<a href="$2">$2</a>');d.fch&&f.noSpoilers&&(a=a.replace(/"spoiler">/g,'"de-spoiler">'));f.hideBySpell&&U.rep[0]&&(a=Lc(U.rep,a));f.crossLinks&&(a=a.replace(d.reCrossLinks,function(a,c,d,f){return">&gt;&gt;/"+c+"/"+(f||d)+"<"}));return a}function Ka(a){d.rep&&(a.innerHTML=cc(a.innerHTML));return a}function ld(a){if(d.abu){var b;if(p&&(a=v("de-thread",a).nextSibling)){for(;b=
a.nextSibling;)w(a),a=b;h.insAfter(a,"<hr />")}}else if(d.brit)for(var a=aa("reflink",a),c=a.length-1;0<=c;c--)b=a[c].firstChild,b.onclick=null,b.href=na(d.host,u,b.textContent),b.target="_blank"}function vd(){X.focused=!0;f.favIcoBlink&&X.href&&(clearInterval(X.delay),A(l.head.querySelectorAll('link[rel="shortcut icon"]'),w),l.head.appendChild(q("link",{href:X.href,rel:"shortcut icon"},null)));1===f.updThread&&setTimeout(function(){l.title=La},200)}function wd(){var a=Db=Date.now();if(Md()){Ab=l.createElement("div");
var b=(window.location.pathname||"").match(RegExp("^(?:\\/?([^\\.]+?)\\/?)?("+RegExp.quote(d.res)+")?(\\d+|index|wakaba.*?\\d+)?(\\.(?:[xme]*html?|php))?$"));u=b[1]||(d.dfwk?"df":"");p=b[2]?b[3]:!1;Lb=b[3]&&!p?+b[3]||0:0;hb=b[4]||(d.fch||d.erns?"":d.gazo?".htm":d._420?".php":".html");X.href=(l.querySelector('head link[rel="shortcut icon"]')||{}).href;M("initBoard");f=Ib("DESU_Config_"+d.dm)||oc(h.isGlobal);f.version=Ea.version;h.noBlob&&(f.preLoadImgs=0);if((h.noBlob||h.Safari)&&2===f.ajaxReply)f.ajaxReply=
1;h.Anim||(f.animations=0);if(d.fch||d.abu)f.findRarJPEG=0;h.Firefox||(Ea.favIcoBlink=0);h.WebKit?f.favIcoBlink=0:f.desktNotif=0;h.Opera&&(11.6>h.Opera&&2>f.scriptStyle&&(f.scriptStyle=2),12>h.Opera&&(f.YTubeTitles=0),2===f.YTubeType&&(f.YTubeType=1),f.updScript=0);f.saveSage||(f.sageReply=0);f.passwValue||(f.passwValue=Math.round(1E15*Math.random()).toString(32));N("DESU_Config_"+d.dm,JSON.stringify(f));k=f.language;ga=ib("DESU_Stat_"+d.dm,{view:0,op:0,reply:0});p&&(ga.view=+ga.view+1);N("DESU_Stat_"+
d.dm,JSON.stringify(ga));f.correctTime&&(yb=new sa(f.timePattern,f.timeOffset,k,sessionStorage.timeRPattern,sessionStorage.timeRPHash));d.hana&&(d.hDTFix=new sa("yyyy-nn-dd-hh-ii-ss",f.timeOffset||0,f.correctTime?k:1,"1_d _m _y (_w) _h:_i ",152203056));f.hideBySpell&&Hb();d.rep=d.fch||d.krau||yb||U&&U.rep[0]||f.crossLinks;M("readCfg");d.rep&&(h.insBefore(z,cc(z.outerHTML||(new XMLSerializer).serializeToString(z))),z.style.display="none",z.id="de-dform-old",z=z.previousSibling,S(window,{load:function(){w(m("de-dform-old"))}}),
M("replaceDelform"));if(kd(z)){M("parseDelform");Jb();M("readFavorites");if(f.keybNavig){var c,e=0,i=!1,r=!0,s=!0,D=function(a,b,c,d,e){for(var f=b;a[f].hide||a[f].thr.hide;)f+=c;a=a[f];if(f!==b||d)window.scrollTo(0,e?ma(a).top:ma(a).top-window.innerHeight/2+a.clientHeight/2);(b=v("de-selected",l))&&h.remClass(b,"de-selected");a.isOp&&(a=a.thr);h.addClass(a,"de-selected");return f},t=function(){if(c!==y.length-1)try{c=D(y,c+1,1,y[c+1].isOp||y[c+1].getBoundingClientRect().top>window.innerHeight/2-
y[c+1].clientHeight/2,!1),r=!0}catch(a){}},E=function(){try{c=D(y,0>=c?0:c-1,-1,!0,!1),r=!0}catch(a){}};window.onscroll=function(){i?i=!1:s=r=!0};l.addEventListener("keydown",function(a){var b=a.target.tagName,f=a.keyCode;if("TEXTAREA"===b||"INPUT"===b&&"text"===a.target.type)27===f&&a.target.blur();else if(!a.ctrlKey&&!a.altKey&&!(a.shiftKey||74!==f&&75!==f&&77!==f&&78!==f&&86!==f&&116!==f))if(116===f)p||(x(a),wc(1));else{x(a);a.stopPropagation();if(s){if(r)a:{for(var a=y,b=0,g=window.pageYOffset;b<
a.length;b++)if(ma(a[b]).top>g){a=b-1;break a}a=void 0}else a=y.indexOf(ia[e]);c=a}if(!p&&r)if((y[c]||{}).isOp)e=b=ia.indexOf(y[c]);else if(s){for(b=0>=c?0:c;0<b&&!y[b].isOp;b--);e=b=ia.indexOf(y[b])}else b=e;else b=e;r=s=!1;if(86===f)p?Vb(y[c]):h.Firefox?GM_openInTab(na(d.host,u,ia[b].num),!1,!0):window.open(na(d.host,u,ia[b].num),"_blank");else if(i=!0,75===f)if(p)E();else try{e=D(ia,0>=e?0:e-1,-1,!0,!0),s=!0}catch(j){}else if(74===f)if(p)t();else{if(e!==ia.length-1)try{e=D(ia,e+1,1,!0,!0),s=!0}catch(k){}}else!p&&
77===f?E():!p&&78===f&&t()}},!0);M("initKeyNavig")}ld(z);Ua||(g=dd(l.querySelector(d.qPostForm)),ea=l.querySelector('form[name="oeform"], form[action*="paint"]'),p?(f.rePageTitle?(La="/"+u+" - "+G[p].tTitle,l.title=La):La=l.title,10<h.Firefox||h.WebKit?(l.addEventListener((h.WebKit?"webkit":"moz")+"visibilitychange",function(){l.mozHidden||l.webkitHidden?X.focused=!1:vd()},!1),X.focused=!(l.mozHidden||l.webkitHidden)):(window.onblur=function(){X.focused=!1},window.onfocus=vd,X.focused=!1,S(window,
{mousemove:function H(){X.focused=!0;zb(window,{mousemove:H})}})),yc(),(2===f.updThread||3===f.updThread)&&L(v("de-thread",l),S(B('<span>[<a href="#">'+j.getNewPosts[k]+"</a>]</span>"),{click:function(a){x(a);nb(!0,function(){ta(null,0)})}}))):setTimeout(window.scrollTo,20,0,0),f.updScript&&Fc(!1,function(a){J(a,"updavail",!1)}),M("initPage"),uc(),M("addPanel"),b=n("div",{id:"de-parea",style:"text-align: center;"},[n("div",{id:"de-togglereply",style:"display: none;"},[Y("["),q("a",{text:j.expandForm[k],
href:"#","class":"de-abtn"},{click:xc}),Y("]")]),n("div",{id:"de-pform"},[g.form,ea]),l.createElement("hr")]),p&&1===f.addPostForm?L(d.fch?P("hr",z):z,b):ba(z,b),(p&&1<f.addPostForm||!p&&f.noThrdForm)&&I(b),h.insAfter(b,'<div id="de-qarea" class="'+d.cReply+'" style="display: none;"></div>'),3===f.addPostForm&&ha(m("de-qarea"),[B('<span id="de-qarea-target">'+j.replyTo[k]+' <a class="de-abtn"></a></span>'),q("span",{id:"de-qarea-close",text:"\u00d7"},{click:Aa})]),g.on?Kc(null,null,null):ea&&pa(null,
u,y[0].num,!1,Kc),M("initPostform"));Eb('function de_removeSel() {\t\t\tvar el = document.getElementById("de-select");\t\t\tif(el) {\t\t\t\tel.parentNode.removeChild(el);\t\t\t}\t\t}\t\tfunction de_delSelection(e) {\t\t\tif(e.relatedTarget && !document.evaluate("ancestor-or-self::div[@id=\'de-select\']", e.relatedTarget, null, 3, null).booleanValue) {\t\t\t\tde_removeSel();\t\t\t}\t\t}\t\tfunction de_btnOut(e) {\t\t\tclearTimeout(e.target.de_overDelay);\t\t\tde_delSelection(e);\t\t}\t\tfunction de_btnOver(el, data) {\t\t\tel.de_overDelay = setTimeout(function(msg) {\t\t\t\twindow.postMessage(msg, "*");\t\t\t}, '+
f.linksOver+', data);\t\t}\t\tfunction de_hideOver(el) {\t\t\tde_btnOver(el, "A" + el.parentNode.getAttribute("info"));\t\t}\t\tfunction de_imgSOver(el) {\t\t\tde_btnOver(el, "L" + el.getAttribute("de-id"));\t\t}\t\tfunction de_expandOver(el) {\t\t\tde_btnOver(el, "B" + el.parentNode.getAttribute("info"));\t\t}\t\tfunction de_hideClick(el) {\t\t\twindow.postMessage("D" + el.parentNode.getAttribute("info"), "*");\t\t}\t\tfunction de_qReplyClick(el) {\t\t\twindow.postMessage("F" + el.parentNode.getAttribute("info"), "*");\t\t}\t\tfunction de_qReplyOver(el) {\t\t\twindow.postMessage("C" + el.parentNode.getAttribute("info"), "*");\t\t}\t\tfunction de_expandClick(el) {\t\t\twindow.postMessage("E" + el.parentNode.getAttribute("info"), "*");\t\t}\t\tfunction de_favorClick(el) {\t\t\twindow.postMessage("G" + el.parentNode.getAttribute("info"), "*");\t\t}\t\tfunction de_sageClick(el) {\t\t\twindow.postMessage("H" + el.parentNode.getAttribute("info"), "*");\t\t}\t\tfunction de_cImgSearch(e, name) {\t\t\te.preventDefault();\t\t\twindow.postMessage("_" + name + ";" + e.target.getAttribute("de-url"), "*");\t\t\tde_removeSel();\t\t}');
S(window,{message:function(a){var b=a.data.substring(1);switch(a.data[0]){case "A":var c=G[+b];if(f.menuHiddBtn&&(f.filterThrds||!c.isOp))a=Ga(c.btns.firstChild,!1,'<a href="#">'+j.selHiderMenu[k].join('</a><a href="#">')+"</a>"),a[1].onclick=function(a){x(a);db(0===c.img.length?"#noimg":"#img ="+mc(c)+"@"+Fb(c).join("x"))},a[2].onclick=function(a){x(a);db(0===c.img.length?"#noimg":"#ihash "+rd(c))},a[3].onclick=function(a){x(a);var b,d,e;(a=va(c))?(b=qd(a),e=c.num,d=c.hide,y.forEach(function(a){var c=
e,f=d,g=b,i,h=qd(va(a)),j=h.length,k=g.length,l=k,m=k,n=0;if(!(j<0.4*l||j>3*l)){for(;k--;)if(6<l&&3>g[k].length)m--;else for(i=j;i--;)(h[i]===g[k]||g[k].match(/>>\d+/)&&h[i].match(/>>\d+/))&&n++;n<0.4*m||j>3*m||(w(v("de-post-note",a)),f?(0!==Z[a.count]&&xa(a,!1,null),O[k=a.num]&&delete O[k]):(Ia(a,!0),fc(a,"similar to >>"+c)))}}),Ra()):db("#notxt");d=e=b=null},(a=a[0]).onclick=function(a){x(a);db(Ja)},a.onmouseover=function(){Ja=Cb().trim()};break;case "B":var d=G[+b];A(Ga(d.btns.querySelector("span:nth-child(3)"),
!1,'<a href="#">'+j.selExpandThrd[k].join('</a><a href="#">')+"</a>"),function(a){a.onclick=function(a){x(a);Za(d,parseInt(this.textContent,10),null)}});break;case "C":Ja=Cb();break;case "D":a=G[+b];Ia(a,!a.hide);Ra();break;case "E":Za(G[+b],1,null);break;case "F":Vb(G[+b]);break;case "G":a=G[+b];tc(a,v("de-btn-fav",a)||v("de-btn-fav-sel",a));break;case "H":db("#sage");break;case "I":w(m("de-fav-wait"));m("de-iframe-fav").style.height=b+"px";break;case "J":a=b.split("$#$");"de-iframe-pform"===a[0]?
Mc(a[1],a[2]):Nc(a[1],a[2]);m(a[0]).src="about:blank";break;case "L":var a=z.querySelector('.de-btn-src[de-id="'+b+'"]'),e=a.nextSibling.href+'" target="_blank">'+j.search[k],b=l.body.getAttribute("de-image-search"),g="";b&&(b=b.split(";"),b.forEach(function(a){a=a.split(",");g+='<a class="de-src'+a[0]+(!a[1]?'" onclick="de_cImgSearch(event, \''+a[0]+'\')" href="#" de-url="':'" href="'+a[1])+e+a[0]+"</a>"}));Ga(a,!1,'<a class="de-src-iqdb" href="//iqdb.org/?url='+e+'IQDB</a><a class="de-src-tineye" href="//tineye.com/search/?url='+
e+'TinEye</a><a class="de-src-google" href="//google.ru/searchbyimage?image_url='+e+'Google</a><a class="de-src-saucenao" href="//saucenao.com/search.php?url='+e+"SauceNAO</a>"+g);g=null}}});h.noBlob||Eb('(function() {\t\t"use strict";\t\twindow.addEventListener("message", function(e) {\t\t\tvar id = e.data[0],\t\t\t\tdata = e.data.substring(1);\t\t\tif(id === "K") {\t\t\t\tvar mReqs = data === "all" ? 4 : 1, i = mReqs, rjw'+(f.findRarJPEG?'= []; while(i--) rjw.push(new Worker("'+window.URL.createObjectURL(h.toBlob(["self.onmessage = "+
String(Hd)],null))+'"));':";")+"preloadImages(data, mReqs, rjw);\t\t\t\treturn;\t\t\t}\t\t});\t\tvar $x = function(path, root) {\t\t\t\treturn document.evaluate(path, root, null, 8, null).singleNodeValue;\t\t\t},\t\t\ttoBlob = "+String(h.toBlob)+",\t\t\tgetPostImages = "+String(Da)+",\t\t\tgetPicWrap = "+String(d.getPicWrap)+";\t\tfunction preloadImages(pNum, mReqs, rjw) {\t\t\tvar len, el, cReq = 0, i = 0, arr = [],\t\t\t\tbwrk = mReqs === 4 ? [0, 0, 0, 0] : [0],\t\t\t\tloadFunc = function(idx) {\t\t\t\t\tif(idx >= arr.length) {\t\t\t\t\t\tif(cReq === 0) {\t\t\t\t\t\t\tmReqs = cReq = i = arr = loadFunc = null;\t\t\t\t\t\t}\t\t\t\t\t\treturn;\t\t\t\t\t}\t\t\t\t\tvar xhr, url, type, eImg = "+
!!f.noImgSpoil+",\t\t\t\t\t\ta = arr[idx];\t\t\t\t\tif(!a || !(url = a.href)) {\t\t\t\t\t\tloadFunc(i++);\t\t\t\t\t\treturn;\t\t\t\t\t}\t\t\t\t\tif(/.gif$/i.test(url)) {\t\t\t\t\t\teImg |= "+!!f.showGIFs+';\t\t\t\t\t\ttype = "image/gif";\t\t\t\t\t} else if(/.jpe?g$/i.test(url)) {\t\t\t\t\t\ttype = "image/jpeg";\t\t\t\t\t} else if(/.png$/i.test(url)) {\t\t\t\t\t\ttype = "image/png";\t\t\t\t\t} else {\t\t\t\t\t\tloadFunc(i++);\t\t\t\t\t\treturn;\t\t\t\t\t}\t\t\t\t\tif(cReq === mReqs) {\t\t\t\t\t\tsetTimeout(loadFunc, 500, idx);\t\t\t\t\t\treturn;\t\t\t\t\t}\t\t\t\t\tcReq++;\t\t\t\t\txhr = new XMLHttpRequest();\t\t\t\t\txhr.open("GET", url, true);\t\t\t\t\txhr.responseType = "arraybuffer";\t\t\t\t\txhr.onload = function() {\t\t\t\t\t\tif(this.status == 200) {\t\t\t\t\t\t\ta.download = url.substring(url.lastIndexOf("/") + 1);\t\t\t\t\t\t\tvar href = a.href = window.'+
(h.WebKit?"webkit":"")+'URL.createObjectURL(toBlob([new Uint8Array(this.response)], type));\t\t\t\t\t\t\tif(eImg) {\t\t\t\t\t\t\t\ta.getElementsByTagName("img")[0].src = href;\t\t\t\t\t\t\t}'+(f.findRarJPEG?"parseRJ(a);":"")+"cReq--; loadFunc(i++); a = eImg = url = type = null;\t\t\t\t\t\t}\t\t\t\t\t};\t\t\t\t\txhr.send(null);\t\t\t\t}"+(f.findRarJPEG?",\t\t\t\tparseRJ = function(link) {\t\t\t\t\tvar wI = bwrk.indexOf(0), w;\t\t\t\t\tif(wI === -1) {\t\t\t\t\t\tsetTimeout(parseRJ, 500, link);\t\t\t\t\t\treturn;\t\t\t\t\t}\t\t\t\t\tw = rjw[wI];\t\t\t\t\tbwrk[wI] = 1;\t\t\t\t\tw.onmessage = function(e) {\t\t\t\t\t\tif(e.data) {\t\t\t\t\t\t\tgetPicWrap(link).querySelector('"+
d.qImgLink+'\').className += " de-archive";\t\t\t\t\t\t}\t\t\t\t\t\tbwrk[wI] = 0;\t\t\t\t\t\tlink = wI = null;\t\t\t\t\t};\t\t\t\t\tw.onerror = function(e) {\t\t\t\t\t\tconsole.error("RARJPEG ERROR, line: " + e.lineno + " - " + e.message);\t\t\t\t\t\tbwrk[wI] = 0;\t\t\t\t\t\tlink = wI = null;\t\t\t\t\t};\t\t\t\t\tw.postMessage(link.href);\t\t\t\t};':";")+'el = getPostImages(pNum === "all" ? document : document.querySelector("[de-post=\'" + pNum + "\']"));\t\t\tfor(i = 0, len = el.length; i < len; i++) {\t\t\t\tarr.push($x("ancestor::a[1]", el[i]));\t\t\t}\t\t\tfor(i = 0; i < mReqs; i++) {\t\t\t\tloadFunc(i);\t\t\t}\t\t}})()');
f.preLoadImgs&&window.postMessage("Kall","*");y.forEach(Wb);Sa(JSON.stringify(F));M("addPostButtons");f.expandImgs&&(y.forEach(sb),M("eventPostImg"));f.expandPosts&&!p&&(y.forEach(bc),M("expandPost"));f.addMP3&&(pb(null),M("addLinkMP3"));f.addYouTube&&(ob(null),M("addLinkTube"));f.addImgs&&(qb(z),M("addLinkImg"));f.imgSrcBtns&&(rb(z),M("addImgSearch"));2===f.linksNavig&&(Zb(G),M("genRefMap"));f.linksNavig&&(ab(z),M("eventRefLink"));qc();f.markViewed&&(b=sessionStorage["de-viewed"])&&b.split(",").forEach(function(a){if(a=
G[a])h.addClass(a,"de-viewed"),a.viewed=!0});md();Fa();M("readPosts");Bc();M("scriptCSS");Sb=Date.now()-a}}}var Ea={version:"12.9.30.0",language:0,hideBySpell:0,hideByWipe:1,wipeSameLin:1,wipeSameWrd:1,wipeLongWrd:1,wipeSpecial:0,wipeCAPS:0,wipeNumbers:1,filterThrds:1,menuHiddBtn:1,hideRefPsts:0,delHiddPost:0,updThread:1,updThrDelay:60,favIcoBlink:1,desktNotif:0,expandPosts:2,expandImgs:2,maskImgs:0,preLoadImgs:0,findRarJPEG:0,showGIFs:0,noImgSpoil:0,postBtnsTxt:0,imgSrcBtns:1,noSpoilers:1,noPostNames:0,
noPostScrl:1,keybNavig:0,correctTime:0,timeOffset:"",timePattern:"",linksNavig:2,linksOver:100,linksOut:1500,markViewed:0,strikeHidd:0,noNavigHidd:0,crossLinks:0,insertNum:1,addMP3:1,addImgs:1,addYouTube:3,YTubeType:0,YTubeWidth:360,YTubeHeigh:270,YTubeHD:0,YTubeTitles:0,ajaxReply:2,postSameImg:1,removeEXIF:1,removeFName:0,addPostForm:2,noThrdForm:1,favOnReply:1,addSageBtn:1,saveSage:1,sageReply:0,captchaLang:1,addTextBtns:1,txtBtnsLoc:0,passwValue:"",userName:0,nameValue:"",userSignat:0,signatValue:"",
noBoardRule:1,noGoto:1,noPassword:1,scriptStyle:0,expandPanel:0,attachPanel:1,panelCounter:1,rePageTitle:1,animation:1,closePopups:0,updScript:1,scrUpdIntrv:1,lastScrUpd:0,textaWidth:500,textaHeight:160},j={cfg:{hideBySpell:["\u0417\u0430\u043a\u043b\u0438\u043d\u0430\u043d\u0438\u044f: ","Magic spells: "],hideByWipe:["\u0410\u043d\u0442\u0438-\u0432\u0430\u0439\u043f \u0434\u0435\u0442\u0435\u043a\u0442\u043e\u0440\u044b ","Anti-wipe detectors "],wipeSameLin:["\u041f\u043e\u0432\u0442\u043e\u0440 \u0441\u0442\u0440\u043e\u043a",
"Same lines"],wipeSameWrd:["\u041f\u043e\u0432\u0442\u043e\u0440 \u0441\u043b\u043e\u0432","Same words"],wipeLongWrd:["\u0414\u043b\u0438\u043d\u043d\u044b\u0435 \u0441\u043b\u043e\u0432\u0430","Long words"],wipeSpecial:["\u0421\u043f\u0435\u0446\u0441\u0438\u043c\u0432\u043e\u043b\u044b","Special symbols"],wipeCAPS:["\u041a\u0410\u041f\u0421/\u0440\u0435\u0413\u0438\u0441\u0422\u0420","CAPS/cAsE"],wipeNumbers:["\u0427\u0438\u0441\u043b\u0430","Numbers"],filterThrds:["\u041f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u043a \u0442\u0440\u0435\u0434\u0430\u043c",
"Apply filters to threads"],menuHiddBtn:["\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u043d\u044e \u043a\u043d\u043e\u043f\u043e\u043a \u0441\u043a\u0440\u044b\u0442\u0438\u044f ","Additional menu of hide buttons"],hideRefPsts:["\u0421\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u043e\u0442\u0432\u0435\u0442\u044b \u043d\u0430 \u0441\u043a\u0440\u044b\u0442\u044b\u0435 \u043f\u043e\u0441\u0442\u044b*","Hide replies to hidden posts*"],delHiddPost:["\u0423\u0434\u0430\u043b\u044f\u0442\u044c \u0441\u043a\u0440\u044b\u0442\u044b\u0435 \u043f\u043e\u0441\u0442\u044b",
"Delete hidden posts"],updThread:{sel:[["\u041e\u0442\u043a\u043b.","\u0410\u0432\u0442\u043e","\u0421\u0447\u0435\u0442+\u043a\u043b\u0438\u043a","\u041f\u043e \u043a\u043b\u0438\u043a\u0443"],["Disable","Auto","Count+click","On click"]],txt:["AJAX \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0440\u0435\u0434\u0430* ","AJAX thread update* "]},updThrDelay:[" (\u0441\u0435\u043a)"," (sec)"],favIcoBlink:["\u043c\u0438\u0433\u0430\u0442\u044c \u0444\u0430\u0432\u0438\u043a\u043e\u043d\u043e\u043c \u043f\u0440\u0438 \u043d\u043e\u0432\u044b\u0445 \u043f\u043e\u0441\u0442\u0430\u0445*",
"Favicon blinking on new posts*"],desktNotif:["\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043d\u0430 \u0440\u0430\u0431\u043e\u0447\u0435\u043c \u0441\u0442\u043e\u043b\u0435","Desktop notifications"],expandPosts:{sel:[["\u041e\u0442\u043a\u043b.","\u0410\u0432\u0442\u043e","\u041f\u043e \u043a\u043b\u0438\u043a\u0443"],["Disable","Auto","On click"]],txt:["AJAX \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044b\u0445 \u043f\u043e\u0441\u0442\u043e\u0432*",
"AJAX upload of shorted posts*"]},expandImgs:{sel:[["\u041e\u0442\u043a\u043b.","\u0412 \u043f\u043e\u0441\u0442\u0435","\u041f\u043e \u0446\u0435\u043d\u0442\u0440\u0443"],["Disable","In post","By center"]],txt:["\u0440\u0430\u0441\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f ","expand images "]},preLoadImgs:["\u041f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f*",
"Pre-load images*"],findRarJPEG:["\u0420\u0430\u0441\u043f\u043e\u0437\u043d\u0430\u0432\u0430\u0442\u044c rarJPEG'\u0438 \u0432 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u0445*","Detect rarJPEGs in images*"],showGIFs:["\u0410\u043d\u0438\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c GIF\u044b \u0432 \u043f\u043e\u0441\u0442\u0430\u0445*","Animate GIFs in posts*"],noImgSpoil:["\u0420\u0430\u0441\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f-\u0441\u043f\u043e\u0439\u043b\u0435\u0440\u044b*",
"Open spoiler-images*"],postBtnsTxt:["\u041a\u043d\u043e\u043f\u043a\u0438 \u043f\u043e\u0441\u0442\u043e\u0432 \u0432 \u0432\u0438\u0434\u0435 \u0442\u0435\u043a\u0441\u0442\u0430*","Show post buttons as text*"],imgSrcBtns:["\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0438 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439*","Add image search buttons*"],noSpoilers:["\u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u0441\u043f\u043e\u0439\u043b\u0435\u0440\u044b",
"Open text spoilers"],noPostNames:["\u0421\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u0438\u043c\u0435\u043d\u0430 \u0432 \u043f\u043e\u0441\u0442\u0430\u0445","Hide names in posts"],noPostScrl:["\u0411\u0435\u0437 \u0441\u043a\u0440\u043e\u043b\u043b\u0430 \u0432 \u043f\u043e\u0441\u0442\u0430\u0445","No scroll in posts"],keybNavig:["\u041d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b* ",
"Navigation with keyboard* "],correctTime:["\u041a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0440\u0435\u043c\u044f \u0432 \u043f\u043e\u0441\u0442\u0430\u0445* ","Correct time in posts* "],timeOffset:[" \u0420\u0430\u0437\u043d\u0438\u0446\u0430 \u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438"," Time difference"],timePattern:["\u0428\u0430\u0431\u043b\u043e\u043d \u0437\u0430\u043c\u0435\u043d\u044b","Replace pattern"],linksNavig:{sel:[["\u041e\u0442\u043a\u043b.",
"\u0411\u0435\u0437 \u043a\u0430\u0440\u0442\u044b","\u0421 \u043a\u0430\u0440\u0442\u043e\u0439"],["Disable","No map","With map"]],txt:["\u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u043f\u043e >>\u0441\u0441\u044b\u043b\u043a\u0430\u043c* ","navigation by >>links* "]},linksOver:[" \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 \u043f\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u044f (\u043c\u0441)"," delay appearance (ms)"],linksOut:[" \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 \u043f\u0440\u043e\u043f\u0430\u0434\u0430\u043d\u0438\u044f (\u043c\u0441)",
" delay disappearance (ms)"],markViewed:["\u041e\u0442\u043c\u0435\u0447\u0430\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b\u0435 \u043f\u043e\u0441\u0442\u044b*","Mark viewed posts*"],strikeHidd:["\u0417\u0430\u0447\u0435\u0440\u043a\u0438\u0432\u0430\u0442\u044c >>\u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u0441\u043a\u0440\u044b\u0442\u044b\u0435 \u043f\u043e\u0441\u0442\u044b","Strike >>links to hidden posts"],noNavigHidd:["\u041d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043f\u0440\u0435\u0432\u044c\u044e \u0434\u043b\u044f \u0441\u043a\u0440\u044b\u0442\u044b\u0445 \u043f\u043e\u0441\u0442\u043e\u0432",
"Don't show previews for hidden posts"],crossLinks:["\u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u044b\u0432\u0430\u0442\u044c http:// \u0432 >>/b/\u0441\u0441\u044b\u043b\u043a\u0438*","Replace http:// with >>/b/links*"],insertNum:["\u0412\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c >>\u0441\u0441\u044b\u043b\u043a\u0443 \u043f\u043e \u043a\u043b\u0438\u043a\u0443 \u043d\u0430 \u2116\u043f\u043e\u0441\u0442\u0430*","Insert >>link on \u2116postnumber click*"],addMP3:["\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u043b\u0435\u0439\u0435\u0440 \u043a mp3-\u0441\u0441\u044b\u043b\u043a\u0430\u043c* ",
"Add player to mp3-links* "],addImgs:["\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043a .jpg-, .png-, .gif-\u0441\u0441\u044b\u043b\u043a\u0430\u043c*","Load images to .jpg-, .png-, .gif-links*"],addYouTube:{sel:[["\u041d\u0438\u0447\u0435\u0433\u043e","\u041f\u043b\u0435\u0439\u0435\u0440 \u043f\u043e \u043a\u043b\u0438\u043a\u0443","\u0410\u0432\u0442\u043e \u043f\u043b\u0435\u0439\u0435\u0440","\u041f\u0440\u0435\u0432\u044c\u044e+\u043f\u043b\u0435\u0439\u0435\u0440",
"\u0422\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0435\u0432\u044c\u044e"],["Nothing","On click player","Auto player","Preview+player","Only preview"]],txt:["\u043a YouTube-\u0441\u0441\u044b\u043b\u043a\u0430\u043c* ","to YouTube-links* "]},YTubeType:{sel:[["Flash","HTML5 iframe","HTML5 video"],["Flash","HTML5 iframe","HTML5 video"]],txt:["",""]},YTubeHD:["HD ","HD "],YTubeTitles:["\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u043a YouTube-\u0441\u0441\u044b\u043b\u043a\u0430\u043c*",
"Load titles into YouTube-links*"],ajaxReply:{sel:[["\u041e\u0442\u043a\u043b.","Iframe","HTML5"],["Disable","Iframe","HTML5"]],txt:["AJAX \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u043f\u043e\u0441\u0442\u043e\u0432*","posting with AJAX*"]},postSameImg:["\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0445 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439",
"Ability to post same images"],removeEXIF:["\u0423\u0434\u0430\u043b\u044f\u0442\u044c EXIF \u0438\u0437 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u044b\u0445 JPEG-\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439","Remove EXIF from uploaded JPEG-images"],removeFName:["\u0423\u0434\u0430\u043b\u044f\u0442\u044c \u0438\u043c\u044f \u0438\u0437 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432","Remove names from uploaded files"],
addPostForm:{sel:[["\u0421\u0432\u0435\u0440\u0445\u0443","\u0412\u043d\u0438\u0437\u0443","\u0412 \u043f\u043e\u0441\u0442\u0430\u0445","\u041e\u0442\u0434\u0435\u043b\u044c\u043d\u0430\u044f"],["At top","At bottom","Inline","Hanging"]],txt:["\u0444\u043e\u0440\u043c\u0430 \u043e\u0442\u0432\u0435\u0442\u0430 \u0432 \u0442\u0440\u0435\u0434\u0435* ","reply form in thread* "]},noThrdForm:["\u041f\u0440\u044f\u0442\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u0443 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0442\u0440\u0435\u0434\u0430",
"Hide thread creating form"],favOnReply:["\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0442\u0440\u0435\u0434 \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u043f\u0440\u0438 \u043e\u0442\u0432\u0435\u0442\u0435","Add thread to favorites on reply"],addSageBtn:["Sage \u0432\u043c\u0435\u0441\u0442\u043e \u043f\u043e\u043b\u044f E-mail* ","Sage button instead of E-mail field* "],saveSage:["\u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u0442\u044c \u0441\u0430\u0436\u0443",
"remember sage"],captchaLang:{sel:[["\u041e\u0442\u043a\u043b.","Eng","Rus"],["Disable","Eng","Rus"]],txt:["\u044f\u0437\u044b\u043a \u0432\u0432\u043e\u0434\u0430 \u043a\u0430\u043f\u0447\u0438","language input in captcha"]},addTextBtns:{sel:[["\u041e\u0442\u043a\u043b.","\u0413\u0440\u0430\u0444\u0438\u0447.","\u0423\u043f\u0440\u043e\u0449.","\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442."],["Disable","As images","As text","Standard"]],txt:["\u043a\u043d\u043e\u043f\u043a\u0438 \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0435\u043a\u0441\u0442\u0430 ",
"text format buttons "]},txtBtnsLoc:["\u0432\u043d\u0438\u0437\u0443","at bottom"],userPassw:[" \u041f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"," Fixed password"],userName:["\u041f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0435 \u0438\u043c\u044f","Fixed name"],userSignat:["\u041f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0430\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u044c","Fixed signature"],noBoardRule:["\u043f\u0440\u0430\u0432\u0438\u043b\u0430 ",
"rules "],noGoto:["\u043f\u043e\u043b\u0435 goto ","goto field "],noPassword:["\u043f\u0430\u0440\u043e\u043b\u044c","password"],excludeList:["\u0421\u043f\u0438\u0441\u043e\u043a \u0430\u0434\u0440\u0435\u0441\u043e\u0432, \u0437\u0430\u043f\u0440\u0435\u0449\u0430\u044e\u0449\u0438\u0445 \u0437\u0430\u043f\u0443\u0441\u043a \u0441\u043a\u0440\u0438\u043f\u0442\u0430:","Address list, that excludes script launch:"],scriptStyle:{sel:[["Glass black","Glass blue","Solid grey"],["Glass black","Glass blue",
"Solid grey"]],txt:["\u0441\u0442\u0438\u043b\u044c \u0441\u043a\u0440\u0438\u043f\u0442\u0430","script style"]},attachPanel:["\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u043f\u0430\u043d\u0435\u043b\u044c","Attach main panel"],panelCounter:["\u0421\u0447\u0435\u0442\u0447\u0438\u043a \u043f\u043e\u0441\u0442\u043e\u0432/\u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438",
"Counter of posts/images on main panel"],rePageTitle:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0440\u0435\u0434\u0430 \u0432 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0435 \u0432\u043a\u043b\u0430\u0434\u043a\u0438*","Thread title in page tab*"],animation:["CSS3 \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u044f \u0432 \u0441\u043a\u0440\u0438\u043f\u0442\u0435","CSS3 animation in script"],closePopups:["\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f",
"Close popups automatically"],updScript:["\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u0430","Check for script update automatically"],scrUpdIntrv:{sel:[["\u041a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c","\u041a\u0430\u0436\u0434\u044b\u0435 2 \u0434\u043d\u044f","\u041a\u0430\u0436\u0434\u0443\u044e \u043d\u0435\u0434\u0435\u043b\u044e",
"\u041a\u0430\u0436\u0434\u044b\u0435 2 \u043d\u0435\u0434\u0435\u043b\u0438","\u041a\u0430\u0436\u0434\u044b\u0439 \u043c\u0435\u0441\u044f\u0446"],["Every day","Every 2 days","Every week","Every 2 week","Every month"]],txt:["\u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438","check interval"]},language:{sel:[["Ru","En"],["Ru","En"]],txt:["",""]}},txtBtn:{bold:["\u0416\u0438\u0440\u043d\u044b\u0439","Bold"],italic:["\u041d\u0430\u043a\u043b\u043e\u043d\u043d\u044b\u0439",
"Italic"],under:["\u041f\u043e\u0434\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439","Underlined"],strike:["\u0417\u0430\u0447\u0435\u0440\u043a\u043d\u0443\u0442\u044b\u0439","Strike"],spoil:["\u0421\u043f\u043e\u0439\u043b\u0435\u0440","Spoiler"],code:["\u041a\u043e\u0434","Code"],quote:["\u0426\u0438\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0435","Quote selected"]},cfgTab:{filters:["\u0424\u0438\u043b\u044c\u0442\u0440\u044b",
"Filters"],posts:["\u041f\u043e\u0441\u0442\u044b","Posts"],links:["\u0421\u0441\u044b\u043b\u043a\u0438","Links"],form:["\u0424\u043e\u0440\u043c\u0430","Form"],common:["\u041e\u0431\u0449\u0435\u0435","Common"],info:["\u0418\u043d\u0444\u043e","Info"]},panelBtn:{settings:["\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","Settings"],hidden:["\u0421\u043a\u0440\u044b\u0442\u043e\u0435","Hidden"],favor:["\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435","Favorites"],refresh:["\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c",
"Refresh"],goback:["\u041d\u0430\u0437\u0430\u0434","Go back"],gonext:["\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f","Next"],goup:["\u041d\u0430\u0432\u0435\u0440\u0445","To the top"],godown:["\u0412 \u043a\u043e\u043d\u0435\u0446","To the bottom"],newthr:["\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0440\u0435\u0434","New thread"],expimg:["\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438","Expand images"],maskimg:["\u041c\u0430\u0441\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438",
"Mask images"],"upd-on":["\u0410\u0432\u0442\u043e\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0440\u0435\u0434\u0430","Thread autoupdate"],"audio-off":["\u0417\u0432\u0443\u043a\u043e\u0432\u043e\u0435 \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u0435 \u043e \u043d\u043e\u0432\u044b\u0445 \u043f\u043e\u0441\u0442\u0430\u0445","Sound notification about new posts"],catalog:["\u041a\u0430\u0442\u0430\u043b\u043e\u0433","Catalog"],counter:["\u041f\u043e\u0441\u0442\u043e\u0432/\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0432 \u0442\u0440\u0435\u0434\u0435",
"Posts/Images in thread"]},selHiderMenu:[["\u0421\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0435","\u0421\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435","\u0421\u043a\u0440\u044b\u0432. \u0441\u0445\u043e\u0436\u0438\u0435 \u0438\u0437\u043e\u0431\u0440.","\u0421\u043a\u0440\u044b\u0442\u044c \u0441\u0445\u043e\u0436\u0438\u0439 \u0442\u0435\u043a\u0441\u0442"],["Hide selected text",
"Hide same images","Hide similar images","Hide similar text"]],selExpandThrd:[["5 \u043f\u043e\u0441\u0442\u043e\u0432","15 \u043f\u043e\u0441\u0442\u043e\u0432","30 \u043f\u043e\u0441\u0442\u043e\u0432","50 \u043f\u043e\u0441\u0442\u043e\u0432","100 \u043f\u043e\u0441\u0442\u043e\u0432"],["5 posts","15 posts","30 posts","50 posts","100 posts"]],selAjaxPages:[["1 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430","2 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b","3 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b",
"4 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b","5 \u0441\u0442\u0440\u0430\u043d\u0438\u0446"],["1 page","2 pages","3 pages","4 pages","5 pages"]],selAudioNotif:[["\u041a\u0430\u0436\u0434\u044b\u0435 30 \u0441\u0435\u043a.","\u041a\u0430\u0436\u0434\u0443\u044e \u043c\u0438\u043d\u0443\u0442\u0443","\u041a\u0430\u0436\u0434\u044b\u0435 2 \u043c\u0438\u043d.","\u041a\u0430\u0436\u0434\u044b\u0435 5 \u043c\u0438\u043d."],["Every 30 sec.","Every minute","Every 2 min.","Every 5 min."]],add:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",
"Add"],apply:["\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c","Apply"],clear:["\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c","Clear"],refresh:["\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c","Refresh"],load:["\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c","Load"],save:["\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","Save"],edit:["\u041f\u0440\u0430\u0432\u043a\u0430","Edit"],reset:["\u0421\u0431\u0440\u043e\u0441","Reset"],remove:["\u0423\u0434\u0430\u043b\u0438\u0442\u044c",
"Remove"],info:["\u0418\u043d\u0444\u043e","Info"],undo:["\u041e\u0442\u043c\u0435\u043d\u0430","Undo"],loading:["\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...","Loading..."],checking:["\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430...","Checking..."],deleting:["\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435...","Deleting..."],error:["\u041e\u0448\u0438\u0431\u043a\u0430:","Error:"],noConnect:["\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f",
"Connection failed"],thrNotFound:["\u0422\u0440\u0435\u0434 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d (\u2116","Thread is unavailable (\u2116"],succDeleted:["\u041f\u043e\u0441\u0442(\u044b) \u0443\u0434\u0430\u043b\u0435\u043d(\u044b)!","Post(s) deleted!"],errDelete:["\u041d\u0435 \u043c\u043e\u0433\u0443 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0441\u0442(\u044b):\n","Can't delete post(s):\n"],cTimeError:["\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",
"Invalid time settings"],noGlobalCfg:["\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b","Global config not found"],postNotFound:["\u041f\u043e\u0441\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d","Post not found"],checkNow:["\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u0435\u0439\u0447\u0430\u0441","Check now"],updAvail:["\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435!",
"Update available!"],haveLatest:["\u0423 \u0432\u0430\u0441 \u0441\u0442\u043e\u0438\u0442 \u0441\u0430\u043c\u0430\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0432\u0435\u0440\u0441\u0438\u044f!","You have latest version!"],unreadMsg:["\u0412 \u0442\u0440\u0435\u0434\u0435 %m \u043d\u0435\u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439.","There are %m unreaded messages in thread."],version:["\u0412\u0435\u0440\u0441\u0438\u044f: ",
"Version: "],storage:["\u0425\u0440\u0430\u043d\u0435\u043d\u0438\u0435: ","Storage: "],thrViewed:["\u0422\u0440\u0435\u0434\u043e\u0432 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e: ","Threads viewed: "],thrCreated:["\u0422\u0440\u0435\u0434\u043e\u0432 \u0441\u043e\u0437\u0434\u0430\u043d\u043e: ","Threads created: "],posts:["\u041f\u043e\u0441\u0442\u043e\u0432: ","Posts: "],total:["\u0412\u0441\u0435\u0433\u043e: ","Total: "],dontShow:["\u041d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c: ",
"Do not show: "],showMore:["\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435","Show more"],loadGlobal:["\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","Load global settings"],saveGlobal:["\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043a\u0430\u043a \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435",
"Save settings as global"],resetCfg:["\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e","Reset settings to defaults"],saveChanges:["\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u043d\u0435\u0441\u0435\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f","Save your changes"],editInTxt:["\u041f\u0440\u0430\u0432\u043a\u0430 \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435",
"Edit in text format"],infoCount:["\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0447\u0435\u0442\u0447\u0438\u043a\u0438 \u043f\u043e\u0441\u0442\u043e\u0432","Refresh posts counters"],infoPage:["\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0442\u0440\u0435\u0434\u043e\u0432 (\u0434\u043e 5 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b)","Check for threads actuality (up to 5 page)"],clrDeleted:["\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0442\u0440\u0435\u0434\u043e\u0432",
"Clear notes of inaccessible threads"],clrSelected:["\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438","Remove selected notes"],hiddenPosts:["\u0421\u043a\u0440\u044b\u0442\u044b\u0435 \u043f\u043e\u0441\u0442\u044b \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435","Hidden posts on page"],hiddenThrds:["\u0421\u043a\u0440\u044b\u0442\u044b\u0435 \u0442\u0440\u0435\u0434\u044b","Hidden threads"],
noHidPosts:["\u041d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043d\u0435\u0442 \u0441\u043a\u0440\u044b\u0442\u044b\u0445 \u043f\u043e\u0441\u0442\u043e\u0432...","No hidden posts on this page..."],noHidThrds:["\u041d\u0435\u0442 \u0441\u043a\u0440\u044b\u0442\u044b\u0445 \u0442\u0440\u0435\u0434\u043e\u0432...","No hidden threads..."],expandAll:["\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u0435","Expand all"],noFavorites:["\u041d\u0435\u0442 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0442\u0440\u0435\u0434\u043e\u0432...",
"Favorites is empty..."],replies:["\u041e\u0442\u0432\u0435\u0442\u044b:","Replies:"],postsOmitted:["\u041f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043e \u043e\u0442\u0432\u0435\u0442\u043e\u0432: ","Posts omitted: "],collapseThrd:["\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0442\u0440\u0435\u0434","Collapse thread"],deleted:["\u0443\u0434\u0430\u043b\u0451\u043d","deleted"],getNewPosts:["\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u043f\u043e\u0441\u0442\u044b",
"Get new posts"],page:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430","Page"],hiddenThrd:["\u0421\u043a\u0440\u044b\u0442\u044b\u0439 \u0442\u0440\u0435\u0434:","Hidden thread:"],expandForm:["\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u0444\u043e\u0440\u043c\u0443","Expand form"],search:["\u0418\u0441\u043a\u0430\u0442\u044c \u0432 ","Search in "],reply:["\u041e\u0442\u0432\u0435\u0442","Reply"],replyTo:["\u041e\u0442\u0432\u0435\u0442 \u0432","Reply to"],wait:["\u0416\u0434\u0438\u0442\u0435",
"Wait"],addRar:["+ .rar","+ .rar"],keyNavHelp:['\u041d\u0430 \u0434\u043e\u0441\u043a\u0435:\n"J" - \u0442\u0440\u0435\u0434 \u043d\u0438\u0436\u0435,\n"K" - \u0442\u0440\u0435\u0434 \u0432\u044b\u0448\u0435,\n"N" - \u043f\u043e\u0441\u0442 \u043d\u0438\u0436\u0435,\n"M" - \u043f\u043e\u0441\u0442 \u0432\u044b\u0448\u0435,\n"V" - \u0432\u0445\u043e\u0434 \u0432 \u0442\u0440\u0435\u0434\n\n\u0412 \u0442\u0440\u0435\u0434\u0435:\n"J" - \u043f\u043e\u0441\u0442 \u043d\u0438\u0436\u0435,\n"K" - \u043f\u043e\u0441\u0442 \u0432\u044b\u0448\u0435,\n"V" - \u0431\u044b\u0441\u0442\u0440\u044b\u0439 \u043e\u0442\u0432\u0435\u0442',
'On board:\n"J" - thread below,\n"K" - thread above,\n"N" - post below,\n"M" - post above,\n"V" - enter a thread\n\nIn thread:\n"J" - post below,\n"K" - post above,\n"V" - quick reply'],month:["\u044f\u043d\u0432 \u0444\u0435\u0432 \u043c\u0430\u0440 \u0430\u043f\u0440 \u043c\u0430\u044f \u0438\u044e\u043d \u0438\u044e\u043b \u0430\u0432\u0433 \u0441\u0435\u043d \u043e\u043a\u0442 \u043d\u043e\u044f \u0434\u0435\u043a".split(" "),"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")],fullMonth:["\u044f\u043d\u0432\u0430\u0440\u044f \u0444\u0435\u0432\u0440\u0430\u043b\u044f \u043c\u0430\u0440\u0442\u0430 \u0430\u043f\u0440\u0435\u043b\u044f \u043c\u0430\u044f \u0438\u044e\u043d\u044f \u0438\u044e\u043b\u044f \u0430\u0432\u0433\u0443\u0441\u0442\u0430 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f \u043e\u043a\u0442\u044f\u0431\u0440\u044f \u043d\u043e\u044f\u0431\u0440\u044f \u0434\u0435\u043a\u0430\u0431\u0440\u044f".split(" "),
"January February March April May June July August September October November December".split(" ")],week:["\u0412\u0441\u043a \u041f\u043d\u0434 \u0412\u0442\u0440 \u0421\u0440\u0434 \u0427\u0442\u0432 \u041f\u0442\u043d \u0421\u0431\u0442".split(" "),"Sun Mon Tue Wed Thu Fri Sat".split(" ")],conReset:["\u0414\u0430\u043d\u043d\u043e\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0443\u0434\u0430\u043b\u0438\u0442 \u0432\u0441\u0435 \u0432\u0430\u0448\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?",
"This will delete all your preferences and favourites. Continue?"],fileCorrupt:["\u0424\u0430\u0439\u043b \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0451\u043d: ","File is corrupted: "],debug:["\u041e\u0442\u043b\u0430\u0434\u043a\u0430","Debug"],infoDebug:["\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u043e\u0442\u043b\u0430\u0434\u043a\u0438","Information for debugging"]},l=window.document,Ca=Array.prototype,f,F,K,ga,G={},y=[],ia=[],Z,O,h,d,u,p,Lb,hb,La,g,z,
ea,Ab,bb,R={deleted:[],ajaxed:{},top:null,outDelay:null},X={href:"",delay:null,focused:!1},$={enabled:!1,el:null,repeat:!1,running:!1},xb,hc,U,wa,Qa,Db,Sb,eb="",yb,za,k,Vc,Ja="",Ua,Ta;jb.prototype=Ea;mb.prototype.append=function(a){if("file"===a.type){if(0<a.files.length){var b=a.files[0].name;this.data.push("--"+this.boundary+'\r\nContent-Disposition: form-data; name="'+a.name+'"; filename="'+(!f.removeFName?b:" "+b.substring(b.lastIndexOf(".")))+'"\r\nContent-type: '+a.files[0].type+"\r\n\r\n",
null,"\r\n");this.readFile(a,this.data.length-2)}}else("checkbox"!==a.type||a.checked)&&this.data.push("--"+this.boundary+'\r\nContent-Disposition: form-data; name="'+a.name+'"\r\n\r\n'+a.value+"\r\n")};mb.prototype.readFile=function(a,b){var c=new FileReader,e=a.files[0],g=this;/^image\/(?:png|jpeg)$/.test(e.type)?(c.onload=function(){var l=Ed(new Uint8Array(this.result),d.abu||d.fch||!!a.rarJPEG);l?(a.rarJPEG&&l.push(a.rarJPEG),f.postSameImg&&l.push(String(Math.round(1E6*Math.random()))),g.data[b]=
h.toBlob(l,null),g.busy--):(g.error=!0,J(j.fileCorrupt[k]+e.name,"upload",!1));c=g=a=b=e=null},c.readAsArrayBuffer(e),this.busy++):this.data[b]=e};sa.toggleSettings=function(a){if(a.checked&&(!/^[+-]\d{1,2}$/.test(f.timeOffset)||sa.checkPattern(f.timePattern)))J(j.cTimeError[k],"err-correcttime",!1),Q("correctTime",0),a.checked=!1};sa.checkPattern=function(a){return!a.contains("i")||!a.contains("h")||!a.contains("d")||!a.contains("y")||!(a.contains("n")||a.contains("m"))||/[^\?\-\+sihdmwny]|mm|ww|\?\?|([ihdny]\?)\1+/.test(a)};
sa.prototype.init=function(a){if(this.inited||this.disabled)return this;var b,c,d,f=1,g=0,h=a.match(RegExp(this.regex));if(!h)return this.disabled=!0,this;this.rPattern="";for(d=h[0];c=h[f++];){if("m"===(b=this.pattern[f-2]))this.fullM=3<c.length;a=d.indexOf(c,g);this.rPattern+=d.substring(g,a)+"_"+b;g=a+c.length}sessionStorage.timeRPHash=Gb(sessionStorage.timeRPattern=(this.fullM?"1":"0")+this.rPattern);this.inited=!0;return this};sa.prototype.fix=function(a){if(this.disabled)return a;var b=this.arrW,
c=this.fullM?this.arrFM:this.arrM,d=this.pattern,f=this.rPattern,g=this.diff,h=function(a){return 10>a?"0"+a:a},a=a.replace(RegExp(this.regex,"g"),function(){var a,j,k,l,m,n,p,q,r;for(a=1;8>a;a++)j=arguments[a],k=d[a-1],"s"===k?l=j:"i"===k?m=j:"h"===k?n=j:"d"===k?p=j:"n"===k?q=j-1:"y"===k?r=j:"m"===k&&(q=/^\u044f\u043d\u0432|^jan/i.test(j)?0:/^\u0444\u0435\u0432|^feb/i.test(j)?1:/^\u043c\u0430\u0440|^mar/i.test(j)?2:/^\u0430\u043f\u0440|^apr/i.test(j)?3:/^\u043c\u0430\u0439|^may/i.test(j)?4:/^\u0438\u044e\u043d|^jun/i.test(j)?
5:/^\u0438\u044e\u043b|^jul/i.test(j)?6:/^\u0430\u0432\u0433|^aug/i.test(j)?7:/^\u0441\u0435\u043d|^sep/i.test(j)?8:/^\u043e\u043a\u0442|^oct/i.test(j)?9:/^\u043d\u043e\u044f|^nov/i.test(j)?10:/^\u0434\u0435\u043a|^dec/i.test(j)&&11);a=new Date(2===r.length?"20"+r:r,q,p,n,m,l||0);a.setHours(a.getHours()+g);return f.replace("_s",h(a.getSeconds())).replace("_i",h(a.getMinutes())).replace("_h",h(a.getHours())).replace("_d",h(a.getDate())).replace("_w",b[a.getDay()]).replace("_n",h(a.getMonth()+1)).replace("_m",
c[a.getMonth()]).replace("_y",2===r.length?(""+a.getFullYear()).substring(2):a.getFullYear())}),b=c=d=f=g=h=null;return a};window.opera?S(l,{DOMContentLoaded:wd}):wd()})(window.opera&&window.opera.scriptStorage);
